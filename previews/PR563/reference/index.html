
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Rasters">
      
      
        <meta name="author" content="Lazaro Alonso & Rafael Schouten">
      
      
      
        <link rel="prev" href="../scripts/generated/basics/plot_makie/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.12">
    
    
      
        <title>API Reference - Rasters</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Lato";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="brown" data-md-color-accent="red">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#index" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Rasters" class="md-header__button md-logo" aria-label="Rasters" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Rasters
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="brown" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/rafaqz/Rasters.jl" title="source.link.title" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Rasters
  </div>
</a>


      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Rasters" class="md-nav__button md-logo" aria-label="Rasters" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Rasters
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/rafaqz/Rasters.jl" title="source.link.title" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Rasters
  </div>
</a>


    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/generated/basics/first_raster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick start
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/generated/basics/data_sources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Sources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/generated/basics/methods/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/generated/basics/array_operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arrays operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/generated/basics/plotting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples and Plotting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/generated/basics/gbif_wflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    A basic species distribution modelling workflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/generated/basics/plot_makie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples with Makie
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index" class="md-nav__link">
    <span class="md-ellipsis">
      Index
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-exported-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Reference - Exported functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-internal-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Reference - Internal functions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index" class="md-nav__link">
    <span class="md-ellipsis">
      Index
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-exported-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Reference - Exported functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-internal-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Reference - Internal functions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>API Reference</h1>

<div><p><a id="Index"></a></p>
<p><a id="Index-1"></a></p>
<h2 id="index">Index<a class="headerlink" href="#index" title="Permanent link">¤</a></h2>
<ul>
<li><a href="./#Rasters.Rasters"><code>Rasters.Rasters</code></a></li>
<li><a href="./#Rasters.AbstractProjected"><code>Rasters.AbstractProjected</code></a></li>
<li><a href="./#Rasters.AbstractRaster"><code>Rasters.AbstractRaster</code></a></li>
<li><a href="./#Rasters.AbstractRasterSeries"><code>Rasters.AbstractRasterSeries</code></a></li>
<li><a href="./#Rasters.AbstractRasterStack"><code>Rasters.AbstractRasterStack</code></a></li>
<li><a href="./#Rasters.Band"><code>Rasters.Band</code></a></li>
<li><a href="./#Rasters.FileArray"><code>Rasters.FileArray</code></a></li>
<li><a href="./#Rasters.FileStack"><code>Rasters.FileStack</code></a></li>
<li><a href="./#Rasters.Mapped"><code>Rasters.Mapped</code></a></li>
<li><a href="./#Rasters.OpenStack"><code>Rasters.OpenStack</code></a></li>
<li><a href="./#Rasters.Projected"><code>Rasters.Projected</code></a></li>
<li><a href="./#Rasters.Raster"><code>Rasters.Raster</code></a></li>
<li><a href="./#Rasters.RasterDiskArray"><code>Rasters.RasterDiskArray</code></a></li>
<li><a href="./#Rasters.RasterSeries"><code>Rasters.RasterSeries</code></a></li>
<li><a href="./#Rasters.RasterStack"><code>Rasters.RasterStack</code></a></li>
<li><a href="./#Rasters.aggregate"><code>Rasters.aggregate</code></a></li>
<li><a href="./#Rasters.aggregate!-Tuple%7BLocus,%20AbstractRaster,%20Any,%20Any%7D"><code>Rasters.aggregate!</code></a></li>
<li><a href="./#Rasters.boolmask"><code>Rasters.boolmask</code></a></li>
<li><a href="./#Rasters.classify"><code>Rasters.classify</code></a></li>
<li><a href="./#Rasters.classify!-Tuple%7BAbstractRaster,%20Pair,%20Vararg%7BPair%7D%7D"><code>Rasters.classify!</code></a></li>
<li><a href="./#Rasters.combine-Tuple%7BAbstractRasterSeries,%20Any%7D"><code>Rasters.combine</code></a></li>
<li><a href="./#Rasters.convertlookup-Tuple%7BType%7B&lt;:LookupArray%7D,%20AbstractDimArray%7D"><code>Rasters.convertlookup</code></a></li>
<li><a href="./#Rasters.coverage-Tuple%7BAny%7D"><code>Rasters.coverage</code></a></li>
<li><a href="./#Rasters.coverage!-Tuple%7BUnion%7Btypeof(sum),%20typeof(union)%7D,%20AbstractRaster,%20Any%7D"><code>Rasters.coverage!</code></a></li>
<li><a href="./#Rasters.crop"><code>Rasters.crop</code></a></li>
<li><a href="./#Rasters.crs"><code>Rasters.crs</code></a></li>
<li><a href="./#Rasters.disaggregate"><code>Rasters.disaggregate</code></a></li>
<li><a href="./#Rasters.disaggregate!-Tuple%7BLocus,%20AbstractRaster,%20Any,%20Any%7D"><code>Rasters.disaggregate!</code></a></li>
<li><a href="./#Rasters.extend"><code>Rasters.extend</code></a></li>
<li><a href="./#Rasters.extract"><code>Rasters.extract</code></a></li>
<li><a href="./#Rasters.mappedbounds"><code>Rasters.mappedbounds</code></a></li>
<li><a href="./#Rasters.mappedcrs"><code>Rasters.mappedcrs</code></a></li>
<li><a href="./#Rasters.mappedindex"><code>Rasters.mappedindex</code></a></li>
<li><a href="./#Rasters.mask-Tuple%7BAny%7D"><code>Rasters.mask</code></a></li>
<li><a href="./#Rasters.mask!"><code>Rasters.mask!</code></a></li>
<li><a href="./#Rasters.missingmask-Tuple%7BAbstractRasterSeries%7D"><code>Rasters.missingmask</code></a></li>
<li><a href="./#Rasters.missingval"><code>Rasters.missingval</code></a></li>
<li><a href="./#Rasters.mosaic-Tuple%7BFunction,%20Union%7BAbstractRaster,%20AbstractRasterStack%7D,%20Vararg%7BUnion%7BAbstractRaster,%20AbstractRasterStack%7D%7D%7D"><code>Rasters.mosaic</code></a></li>
<li><a href="./#Rasters.mosaic!-Tuple%7BFunction,%20Union%7BAbstractRaster,%20AbstractRasterStack%7D,%20Vararg%7BUnion%7BAbstractRaster,%20AbstractRasterStack%7D%7D%7D"><code>Rasters.mosaic!</code></a></li>
<li><a href="./#Rasters.points-Tuple%7BAbstractRaster%7D"><code>Rasters.points</code></a></li>
<li><a href="./#Rasters.rasterize"><code>Rasters.rasterize</code></a></li>
<li><a href="./#Rasters.rasterize!"><code>Rasters.rasterize!</code></a></li>
<li><a href="./#Rasters.replace_missing-Tuple%7BAny%7D"><code>Rasters.replace_missing</code></a></li>
<li><a href="./#Rasters.reproject-Tuple%7BAny%7D"><code>Rasters.reproject</code></a></li>
<li><a href="./#Rasters.reproject-NTuple%7B4,%20Any%7D"><code>Rasters.reproject</code></a></li>
<li><a href="../scripts/generated/basics/plot_makie/#Rasters.rplot"><code>Rasters.rplot</code></a></li>
<li><a href="./#Rasters.setcrs-Tuple%7BTuple%7BDimension,%20Vararg%7BDimension%7D%7D,%20Any%7D"><code>Rasters.setcrs</code></a></li>
<li><a href="./#Rasters.setmappedcrs-Tuple%7BTuple%7BDimension,%20Vararg%7BDimension%7D%7D,%20Any%7D"><code>Rasters.setmappedcrs</code></a></li>
<li><a href="./#Rasters.slice-Tuple%7BUnion%7BAbstractRaster,%20AbstractRasterStack%7D,%20Any%7D"><code>Rasters.slice</code></a></li>
<li><a href="../scripts/generated/basics/data_sources/#Rasters.smapseries"><code>Rasters.smapseries</code></a></li>
<li><a href="./#Rasters.trim-Tuple%7BUnion%7BAbstractRaster,%20AbstractRasterStack%7D%7D"><code>Rasters.trim</code></a></li>
<li><a href="./#Rasters.zonal-Tuple%7BAny,%20Union%7BAbstractRaster,%20AbstractRasterStack%7D%7D"><code>Rasters.zonal</code></a></li>
</ul>
<p><a id="Reference-Exported-functions"></a></p>
<p><a id="Reference-Exported-functions-1"></a></p>
<h2 id="reference-exported-functions">Reference - Exported functions<a class="headerlink" href="#reference-exported-functions" title="Permanent link">¤</a></h2>
<p><a id="Rasters.Rasters" href="#Rasters.Rasters">#</a>
<strong><code>Rasters.Rasters</code></strong> — <em>Module</em>.</p>
<p><strong>Rasters</strong></p>
<p><a href="https://github.com/rafaqz/Rasters.jl/blob/main/LICENSE"><img alt="License: MIT" src="https://img.shields.io/badge/License-MIT-green.svg"></a> <a href="https://rafaqz.github.io/Rasters.jl/stable"><img alt="" src="https://img.shields.io/badge/docs-stable-blue.svg"></a> <a href="https://rafaqz.github.io/Rasters.jl/dev"><img alt="" src="https://img.shields.io/badge/docs-dev-blue.svg"></a> <a href="https://github.com/rafaqz/Rasters.jl/actions/workflows/ci.yml"><img alt="CI" src="https://github.com/rafaqz/Rasters.jl/actions/workflows/ci.yml/badge.svg"></a> <a href="https://codecov.io/gh/rafaqz/Rasters.jl"><img alt="Codecov" src="https://codecov.io/gh/rafaqz/Rasters.jl/branch/main/graph/badge.svg"></a> <a href="https://github.com/JuliaTesting/Aqua.jl"><img alt="Aqua.jl Quality Assurance" src="https://img.shields.io/badge/Aquajl-%F0%9F%8C%A2-aqua.svg"></a> <a href="https://pkgs.genieframework.com?packages=Rasters"><img alt="Downloads" src="https://shields.io/endpoint?url=https://pkgs.genieframework.com/api/v1/badge/Rasters&amp;label=Downloads"></a></p>
<p><img src="https://rafaqz.github.io/Rasters.jl/dev/scripts/generated/basics/aus_trim.png" align="right" width="30%"></p>
<p><a href="https://rafaqz.github.io/Rasters.jl/dev">Rasters.jl</a> defines common types and methods for reading, writing and manipulating rasterized spatial data. </p>
<p>These currently include raster arrays like GeoTIFF and NetCDF, R grd files,  multi-layered stacks, and multi-file series of arrays and stacks. </p>
<p><strong>:warning: Packages extensions and Rasters 0.8 and onwards</strong></p>
<p>On Julia 1.9 we can put additional packages in extensions, so the code only loads when you load a specific package. Rasters.jl was always intended to work like this, and its finally possible. This reduced package <code>using</code> time from many seconds to well under a second.</p>
<p>But, it means you have to manually load packages you need for each backend or additional functionality.</p>
<p>For example, to use the GDAL backend, and download files, you now need to do:</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span>
</code></pre></div>
<p>where previously it was just <code>using Rasters</code>.</p>
<p>Sources and packages needed:</p>
<ul>
<li><code>:gdal</code>: <code>using ArchGDAL</code></li>
<li><code>:netcdf</code>: <code>using NCDatasets</code></li>
<li><code>:grd</code>: built-in.</li>
<li><code>:smap</code>: <code>using HDF5</code></li>
<li><code>:grib</code>: not yet finished.</li>
</ul>
<p>Other functionality in extensions:</p>
<ul>
<li>Raster data downloads, like <code>Worldclim{Climate}</code>: <code>using RasterDataSources</code></li>
<li>Makie plots: <code>using Makie</code></li>
<li>Coordinate transformations for gdal rasters: <code>using CoordinateTransformations</code></li>
</ul>
<p><strong>Quick start</strong></p>
<p>Install the package by typing:</p>
<div class="highlight"><pre><span></span><code><span class="p">]</span>
<span class="n">add</span><span class="w"> </span><span class="n">Rasters</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span>
</code></pre></div>
<p>Using <code>Rasters</code> to read GeoTiff or NetCDF files will output something similar to the following toy examples. This is possible because Rasters.jl extends <a href="https://github.com/rafaqz/DimensionalData.jl">DimensionalData.jl</a> so that spatial data can be indexed using named dimensions like <code>X</code>, <code>Y</code> and <code>Ti</code> (time) and e.g. spatial coordinates.</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">Dates</span>
<span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="mi">25</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span><span class="mi">30</span><span class="p">),</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="mi">25</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span><span class="mi">30</span><span class="p">)</span>
<span class="n">ti</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Ti</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="mi">2001</span><span class="p">)</span><span class="o">:</span><span class="n">Month</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="n">DateTime</span><span class="p">(</span><span class="mi">2002</span><span class="p">))</span>
<span class="n">ras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="n">lon</span><span class="p">,</span><span class="w"> </span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">ti</span><span class="p">))</span><span class="w"> </span><span class="c"># this generates random numbers with the dimensions given</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>6×6×13 Raster{Float64,3} with dimensions: 
  X Sampled{Int64} 25:1:30 ForwardOrdered Regular Points,
  Y Sampled{Int64} 25:1:30 ForwardOrdered Regular Points,
  Ti Sampled{DateTime} DateTime("2001-01-01T00:00:00"):Month(1):DateTime("2002-01-01T00:00:00") ForwardOrdered Regular Points
extent: Extent(X = (25, 30), Y = (25, 30), Ti = (DateTime("2001-01-01T00:00:00"), DateTime("2002-01-01T00:00:00")))
missingval: missing
values: [:, :, 1]
     25         26          27          28         29          30
 25   0.9063     0.427328    0.0320967   0.297023   0.0571002   0.891377
 26   0.443494   0.867547    0.350546    0.150155   0.24565     0.711039
 27   0.745673   0.0991336   0.930332    0.893537   0.805931    0.360583
 28   0.512083   0.125287    0.959434    0.354868   0.337824    0.259563
 29   0.253849   0.692209    0.774092    0.131798   0.823656    0.390013
 30   0.334152   0.136551    0.183555    0.941133   0.450484    0.461862
[and 12 more slices...]
</code></pre></div>
<p><strong>Getting the <code>lookup</code> array from dimensions</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">lon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lookup</span><span class="p">(</span><span class="n">ras</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="p">)</span><span class="w"> </span><span class="c"># if X is longitude</span>
<span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lookup</span><span class="p">(</span><span class="n">ras</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="p">)</span><span class="w"> </span><span class="c"># if Y is latitude</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Sampled{Int64} ForwardOrdered Regular Points
wrapping: 25:1:30
</code></pre></div>
<p><strong>Select by index</strong></p>
<p>Selecting a time slice by <code>index</code> is done via</p>
<div class="highlight"><pre><span></span><code><span class="n">ras</span><span class="p">[</span><span class="n">Ti</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>6×6 Raster{Float64,2} with dimensions: 
  X Sampled{Int64} 25:1:30 ForwardOrdered Regular Points,
  Y Sampled{Int64} 25:1:30 ForwardOrdered Regular Points
and reference dimensions: 
  Ti Sampled{DateTime} DateTime("2001-01-01T00:00:00"):Month(1):DateTime("2001-01-01T00:00:00") ForwardOrdered Regular Points
extent: Extent(X = (25, 30), Y = (25, 30))
missingval: missing
values:      25         26          27          28         29          30
 25   0.9063     0.427328    0.0320967   0.297023   0.0571002   0.891377
 26   0.443494   0.867547    0.350546    0.150155   0.24565     0.711039
 27   0.745673   0.0991336   0.930332    0.893537   0.805931    0.360583
 28   0.512083   0.125287    0.959434    0.354868   0.337824    0.259563
 29   0.253849   0.692209    0.774092    0.131798   0.823656    0.390013
 30   0.334152   0.136551    0.183555    0.941133   0.450484    0.461862
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">ras</span><span class="p">[</span><span class="n">Ti</span><span class="o">=</span><span class="mi">1</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>6×6 Raster{Float64,2} with dimensions: 
  X Sampled{Int64} 25:1:30 ForwardOrdered Regular Points,
  Y Sampled{Int64} 25:1:30 ForwardOrdered Regular Points
and reference dimensions: 
  Ti Sampled{DateTime} DateTime("2001-01-01T00:00:00"):Month(1):DateTime("2001-01-01T00:00:00") ForwardOrdered Regular Points
extent: Extent(X = (25, 30), Y = (25, 30))
missingval: missing
values:      25         26          27          28         29          30
 25   0.9063     0.427328    0.0320967   0.297023   0.0571002   0.891377
 26   0.443494   0.867547    0.350546    0.150155   0.24565     0.711039
 27   0.745673   0.0991336   0.930332    0.893537   0.805931    0.360583
 28   0.512083   0.125287    0.959434    0.354868   0.337824    0.259563
 29   0.253849   0.692209    0.774092    0.131798   0.823656    0.390013
 30   0.334152   0.136551    0.183555    0.941133   0.450484    0.461862
</code></pre></div>
<p>or and interval of indices using the syntax <code>=a:b</code> or <code>(a:b)</code></p>
<div class="highlight"><pre><span></span><code><span class="n">ras</span><span class="p">[</span><span class="n">Ti</span><span class="p">(</span><span class="mi">1</span><span class="o">:</span><span class="mi">10</span><span class="p">)]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>6×6×10 Raster{Float64,3} with dimensions: 
  X Sampled{Int64} 25:1:30 ForwardOrdered Regular Points,
  Y Sampled{Int64} 25:1:30 ForwardOrdered Regular Points,
  Ti Sampled{DateTime} DateTime("2001-01-01T00:00:00"):Month(1):DateTime("2001-10-01T00:00:00") ForwardOrdered Regular Points
extent: Extent(X = (25, 30), Y = (25, 30), Ti = (DateTime("2001-01-01T00:00:00"), DateTime("2001-10-01T00:00:00")))
missingval: missing
values: [:, :, 1]
     25         26          27          28         29          30
 25   0.9063     0.427328    0.0320967   0.297023   0.0571002   0.891377
 26   0.443494   0.867547    0.350546    0.150155   0.24565     0.711039
 27   0.745673   0.0991336   0.930332    0.893537   0.805931    0.360583
 28   0.512083   0.125287    0.959434    0.354868   0.337824    0.259563
 29   0.253849   0.692209    0.774092    0.131798   0.823656    0.390013
 30   0.334152   0.136551    0.183555    0.941133   0.450484    0.461862
[and 9 more slices...]
</code></pre></div>
<p><strong>Select by value</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">ras</span><span class="p">[</span><span class="n">Ti</span><span class="o">=</span><span class="n">At</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="mi">2001</span><span class="p">))]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>6×6 Raster{Float64,2} with dimensions: 
  X Sampled{Int64} 25:1:30 ForwardOrdered Regular Points,
  Y Sampled{Int64} 25:1:30 ForwardOrdered Regular Points
and reference dimensions: 
  Ti Sampled{DateTime} DateTime("2001-01-01T00:00:00"):Month(1):DateTime("2001-01-01T00:00:00") ForwardOrdered Regular Points
extent: Extent(X = (25, 30), Y = (25, 30))
missingval: missing
values:      25         26          27          28         29          30
 25   0.9063     0.427328    0.0320967   0.297023   0.0571002   0.891377
 26   0.443494   0.867547    0.350546    0.150155   0.24565     0.711039
 27   0.745673   0.0991336   0.930332    0.893537   0.805931    0.360583
 28   0.512083   0.125287    0.959434    0.354868   0.337824    0.259563
 29   0.253849   0.692209    0.774092    0.131798   0.823656    0.390013
 30   0.334152   0.136551    0.183555    0.941133   0.450484    0.461862
</code></pre></div>
<p>More options are available, like  <code>Near</code>, <code>Contains</code> and <code>Where</code>. For more details go <a href="https://rafaqz.github.io/Rasters.jl/dev/#Subsetting-an-object">here</a>.</p>
<p>Dimensions can also be used in most <code>Base</code> and <code>Statistics</code> methods like <code>mean</code> and <code>reduce</code> where <code>dims</code> arguments are required. Much of the behaviour is covered in the <a href="https://rafaqz.github.io/DimensionalData.jl/stable/">DimensionalData docs</a>.</p>
<p>See <a href="https://rafaqz.github.io/Rasters.jl/stable">the docs</a> for more details and examples for Rasters.jl.</p>
<p><strong>Data-source abstraction</strong></p>
<p>Rasters provides a standardised interface that allows many source data types to be used with identical syntax.</p>
<ul>
<li>
<p>Scripts and packages building on Rasters.jl can treat <code>Raster</code>, <code>RasterStack</code>, and <code>RasterSeries</code> as black boxes.</p>
<ul>
<li>The data could hold GeoTiff or NetCDF files, <code>Array</code>s in memory or <code>CuArray</code>s on the GPU - they will all behave in the same way.</li>
<li><code>RasterStack</code> can be backed by a Netcdf or HDF5 file, or a <code>NamedTuple</code> of <code>Raster</code> holding <code>.tif</code> files, or all <code>Raster</code> in memory.</li>
<li>Users do not have to deal with the specifics of spatial file types.</li>
<li><code>Projected</code> lookups with Cylindrical projections can by indexed using other Cylindrical projections by setting the <code>mappedcrs</code> keyword on construction. You don't need to know the underlying projection, the conversion is handled automatically. This means lat/lon <code>EPSG(4326)</code> can be used seamlessly if you need that.</li>
</ul>
</li>
</ul>
<p><strong>Bugs, errors and making issues for Rasters.jl</strong></p>
<p>Raster data is complicated and there are many places for subtle or not-so-subtle bugs to creep in.</p>
<p>We need bug reports to reduce how often they occur over time. But also, we need issues that are easy to reproduce or it isn't practically possible to fix them.</p>
<p>Because there are so many raster file types and variations of them, most of the time we need the <em>exact file</em> that caused your problem to know how to fix it, and be sure that we have actually fixed it when we are done. So fixing a Rasters.jl bug nearly always involves downloading some file and running some code that breaks with it (if you can trigger the bug without a file, thats great! but its not always possible).</p>
<p>To make an issue we can fix quickly (or at all) there are three key steps:</p>
<ol>
<li>Include the file in an accessible place on web <em>without autentication</em> or any other work on our part, so we can just get it and find your bug. You can put it on a file hosting platform (e.g. google drive, drop box, whatever you use) and share the url.</li>
<li>Add a minimum working example to the issue template that first downloads the file, then runs the function that triggers the bug.</li>
<li>Paste the complete stack trace of the error it produces, right to the bottom, into the issue template. Then we can be sure we reproduced the same problem.</li>
</ol>
<p>Good issues are really appreciated, but they do take just a little extra effort with Rasters.jl because of this need for files.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/Rasters.jl#L4-L238" class="documenter-source">source</a><br></p>
<p><a id="Rasters.AbstractRaster" href="#Rasters.AbstractRaster">#</a>
<strong><code>Rasters.AbstractRaster</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">AbstractRaster</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">DimensionalData</span><span class="o">.</span><span class="n">AbstractDimArray</span>
</code></pre></div>
<p>Abstract supertype for objects that wrap an array (or location of an array)  and metadata about its contents. It may be memory or hold a <code>FileArray</code>, which holds the filename, and is only opened when required.</p>
<p><code>AbstractRaster</code>s inherit from <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.AbstractDimensionalArray"><code>AbstractDimArray</code></a> from DimensionalData.jl. They can be indexed as regular Julia arrays or with DimensionalData.jl <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Dimension"><code>Dimension</code></a>s. They will plot as a heatmap in Plots.jl with correct coordinates and labels, even after slicing with <code>getindex</code> or <code>view</code>. <code>getindex</code> on a <code>AbstractRaster</code> will always return a memory-backed <code>Raster</code>.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/array.jl#L5-L18" class="documenter-source">source</a><br></p>
<p><a id="Rasters.AbstractRasterSeries" href="#Rasters.AbstractRasterSeries">#</a>
<strong><code>Rasters.AbstractRasterSeries</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">AbstractRasterSeries</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">DimensionalData</span><span class="o">.</span><span class="n">AbstractDimensionalArray</span>
</code></pre></div>
<p>Abstract supertype for high-level <code>DimensionalArray</code> that hold <code>RasterStacks</code>, <code>Rasters</code>, or the paths they can be loaded from. <code>RasterSeries</code> are indexed with dimensions as with a <code>AbstractRaster</code>. This is useful when you have multiple files containing rasters or stacks of rasters spread over dimensions like time and elevation.</p>
<p>As much as possible, implementations should facilitate loading entire directories and detecting the dimensions from metadata.</p>
<p>This allows syntax like below for a series of stacks of arrays:</p>
<div class="highlight"><pre><span></span><code><span class="n">RasterSeries</span><span class="p">[</span><span class="n">Time</span><span class="p">(</span><span class="n">Near</span><span class="p">(</span><span class="n">DateTime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">))][</span><span class="ss">:temp</span><span class="p">][</span><span class="n">Y</span><span class="p">(</span><span class="n">Between</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p">)),</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="n">Between</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">))]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="sa">plot</span><span class="sb">`</span>
</code></pre></div>
<p><a href="./#Rasters.RasterSeries"><code>RasterSeries</code></a> is the concrete implementation.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/series.jl#L1-L19" class="documenter-source">source</a><br></p>
<p><a id="Rasters.AbstractRasterStack" href="#Rasters.AbstractRasterStack">#</a>
<strong><code>Rasters.AbstractRasterStack</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">AbstractRasterStack</span>
</code></pre></div>
<p>Abstract supertype for objects that hold multiple <a href="./#Rasters.AbstractRaster"><code>AbstractRaster</code></a>s that share spatial dimensions.</p>
<p>They are <code>NamedTuple</code>-like structures that may either contain <code>NamedTuple</code> of <a href="./#Rasters.AbstractRaster"><code>AbstractRaster</code></a>s, string paths that will load <a href="./#Rasters.AbstractRaster"><code>AbstractRaster</code></a>s, or a single path that points to a file containing multiple layers, like NetCDF or HDF5. Use and syntax is similar or identical for all cases.</p>
<p><code>AbstractRasterStack</code> can hold layers that share some or all of their dimensions. They cannot have the same dimension with different length or spatial extent as another layer.</p>
<p><code>getindex</code> on an <code>AbstractRasterStack</code> generally returns a memory backed standard <a href="./#Rasters.Raster"><code>Raster</code></a>. <code>raster[:somelayer] |&gt; plot</code> plots the layers array, while <code>raster[:somelayer, X(1:100), Band(2)] |&gt; plot</code> will plot the subset without loading the whole array.</p>
<p><code>getindex</code> on an <code>AbstractRasterStack</code> with a key returns another stack with <code>getindex</code> applied to all the arrays in the stack.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/stack.jl#L4-L26" class="documenter-source">source</a><br></p>
<p><a id="Rasters.Band" href="#Rasters.Band">#</a>
<strong><code>Rasters.Band</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">Band</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">Dimension</span>

<span class="n">Band</span><span class="p">(</span><span class="n">val</span><span class="o">=:</span><span class="p">)</span>
</code></pre></div>
<p>Band <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Dimension"><code>Dimension</code></a> for multi-band rasters.</p>
<p><strong>Example:</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">banddim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Band</span><span class="p">(</span><span class="mi">10</span><span class="o">:</span><span class="mi">10</span><span class="o">:</span><span class="mi">100</span><span class="p">)</span>
<span class="c"># Or</span>
<span class="n">val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">Band</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
<span class="c"># Or</span>
<span class="n">mean</span><span class="p">(</span><span class="n">A</span><span class="p">;</span><span class="w"> </span><span class="n">dims</span><span class="o">=</span><span class="n">Band</span><span class="p">)</span>
</code></pre></div>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/dimensions.jl#L4-L19" class="documenter-source">source</a><br></p>
<p><a id="Rasters.Mapped" href="#Rasters.Mapped">#</a>
<strong><code>Rasters.Mapped</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">Mapped</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">AbstractProjected</span>

<span class="n">Mapped</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">span</span><span class="p">,</span><span class="w"> </span><span class="n">sampling</span><span class="p">,</span><span class="w"> </span><span class="n">crs</span><span class="p">,</span><span class="w"> </span><span class="n">mappedcrs</span><span class="p">)</span>
<span class="n">Mapped</span><span class="p">(;</span><span class="w"> </span><span class="n">order</span><span class="o">=</span><span class="n">AutoOrder</span><span class="p">(),</span><span class="w"> </span><span class="n">span</span><span class="o">=</span><span class="n">AutoSpan</span><span class="p">(),</span><span class="w"> </span><span class="n">sampling</span><span class="o">=</span><span class="n">AutoSampling</span><span class="p">(),</span><span class="w"> </span><span class="n">crs</span><span class="o">=</span><span class="nb">nothing</span><span class="p">,</span><span class="w"> </span><span class="n">mappedcrs</span><span class="p">)</span>
</code></pre></div>
<p>An <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.AbstractSampled"><code>AbstractSampled</code></a> <code>LookupArray</code>, where the dimension index has been mapped to another projection, usually lat/lon or <code>EPSG(4326)</code>. <code>Mapped</code> matches the dimension format commonly used in netcdf files.</p>
<p>Fields and behaviours are identical to <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Sampled"><code>Sampled</code></a> with the addition of <code>crs</code> and <code>mappedcrs</code> fields.</p>
<p>The mapped dimension index will be used as for <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Sampled"><code>Sampled</code></a>, but to save in another format the underlying <code>crs</code> may be used to convert it.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/lookup.jl#L97-L112" class="documenter-source">source</a><br></p>
<p><a id="Rasters.Projected" href="#Rasters.Projected">#</a>
<strong><code>Rasters.Projected</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">Projected</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">AbstractProjected</span>

<span class="n">Projected</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="w"> </span><span class="n">span</span><span class="p">,</span><span class="w"> </span><span class="n">sampling</span><span class="p">,</span><span class="w"> </span><span class="n">crs</span><span class="p">,</span><span class="w"> </span><span class="n">mappedcrs</span><span class="p">)</span>
<span class="n">Projected</span><span class="p">(;</span><span class="w"> </span><span class="n">order</span><span class="o">=</span><span class="n">AutoOrder</span><span class="p">(),</span><span class="w"> </span><span class="n">span</span><span class="o">=</span><span class="n">AutoSpan</span><span class="p">(),</span><span class="w"> </span><span class="n">sampling</span><span class="o">=</span><span class="n">AutoSampling</span><span class="p">(),</span><span class="w"> </span><span class="n">crs</span><span class="p">,</span><span class="w"> </span><span class="n">mappedcrs</span><span class="o">=</span><span class="nb">nothing</span><span class="p">)</span>
</code></pre></div>
<p>An <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.AbstractSampled"><code>AbstractSampled</code></a> <code>LookupArray</code> with projections attached.</p>
<p>Fields and behaviours are identical to <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Sampled"><code>Sampled</code></a> with the addition of <code>crs</code> and <code>mappedcrs</code> fields.</p>
<p>If both <code>crs</code> and <code>mappedcrs</code> fields contain CRS data (in a <code>GeoFormat</code> wrapper from GeoFormatTypes.jl) the selector inputs and plot axes will be converted from and to the specified <code>mappedcrs</code> projection automatically. A common use case would be to pass <code>mappedcrs=EPSG(4326)</code> to the constructor when loading eg. a GDALarray:</p>
<div class="highlight"><pre><span></span><code><span class="n">GDALarray</span><span class="p">(</span><span class="n">filename</span><span class="p">;</span><span class="w"> </span><span class="n">mappedcrs</span><span class="o">=</span><span class="n">EPSG</span><span class="p">(</span><span class="mi">4326</span><span class="p">))</span>
</code></pre></div>
<p>The underlying <code>crs</code> will be detected by GDAL.</p>
<p>If <code>mappedcrs</code> is not supplied (ie. <code>mappedcrs=nothing</code>), the base index will be shown on plots, and selectors will need to use whatever format it is in.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/lookup.jl#L32-L56" class="documenter-source">source</a><br></p>
<p><a id="Rasters.Raster" href="#Rasters.Raster">#</a>
<strong><code>Rasters.Raster</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">Raster</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">AbsractRaster</span>

<span class="n">Raster</span><span class="p">(</span><span class="n">filepath</span><span class="o">::</span><span class="kt">AbstractString</span><span class="p">,</span><span class="w"> </span><span class="n">dims</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="n">Raster</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractArray</span><span class="p">{</span><span class="kt">T</span><span class="p">,</span><span class="kt">N</span><span class="p">},</span><span class="w"> </span><span class="n">dims</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="n">Raster</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>A generic <a href="./#Rasters.AbstractRaster"><code>AbstractRaster</code></a> for spatial/raster array data. It may hold memory-backed arrays or <a href="./#Rasters.FileArray"><code>FileArray</code></a>, that simply holds the <code>String</code> path to an unopened file. This will only be opened lazily when it is indexed with <code>getindex</code> or when <code>read(A)</code> is called. Broadcasting, taking a view, reversing and most other  methods <em>do not</em> load data from disk: they are applied later, lazily.</p>
<p><strong>Keywords</strong></p>
<ul>
<li><code>dims</code>: <code>Tuple</code> of <code>Dimension</code>s for the array.</li>
<li><code>lazy</code>: A <code>Bool</code> specifying if to load the stack lazily from disk. <code>false</code> by default.</li>
<li><code>name</code>: <code>Symbol</code> name for the array, which will also retreive named layers if <code>Raster</code>   is used on a multi-layered file like a NetCDF.</li>
<li><code>missingval</code>: value reprsenting missing data, normally detected form the file. Set manually   when you know the value is not specified or is incorrect. This will <em>not</em> change any   values in the raster, it simply assigns which value is treated as missing. To replace all of   the missing values in the raster, use <a href="./#Rasters.replace_missing-Tuple%7BAny%7D"><code>replace_missing</code></a>.</li>
<li><code>metadata</code>: <code>ArrayMetadata</code> object for the array, or <code>NoMetadata()</code>.</li>
<li><code>crs</code>: the coordinate reference system of  the objects <code>XDim</code>/<code>YDim</code> dimensions.    Only set this if you know the detected crs is incrorrect, or it is not present in   the file. The <code>crs</code> is expected to be a GeoFormatTypes.jl <code>CRS</code> or <code>Mixed</code> <code>GeoFormat</code> type.</li>
<li><code>mappedcrs</code>: the mapped coordinate reference system of the objects <code>XDim</code>/<code>YDim</code> dimensions.   for <code>Mapped</code> lookups these are the actual values of the index. For <code>Projected</code> lookups   this can be used to index in eg. <code>EPSG(4326)</code> lat/lon values, having it converted automatically.   Only set this if the detected <code>mappedcrs</code> in incorrect, or the file does not have a <code>mappedcrs</code>,   e.g. a tiff. The <code>mappedcrs</code> is expected to be a GeoFormatTypes.jl <code>CRS</code> or <code>Mixed</code> <code>GeoFormat</code> type.</li>
<li><code>dropband</code>: drop single band dimensions. <code>true</code> by default.</li>
</ul>
<p><strong>Internal Keywords</strong></p>
<p>In some cases it is possible to set these keywords as well.</p>
<ul>
<li><code>data</code>: can replace the data in an <code>AbstractRaster</code></li>
<li><code>refdims</code>: <code>Tuple of</code> position <code>Dimension</code>s the array was sliced from, defaulting to <code>()</code>.</li>
</ul>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/array.jl#L221-L261" class="documenter-source">source</a><br></p>
<p><a id="Rasters.RasterSeries" href="#Rasters.RasterSeries">#</a>
<strong><code>Rasters.RasterSeries</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">RasterSeries</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">AbstractRasterSeries</span>

<span class="n">RasterSeries</span><span class="p">(</span><span class="n">rasters</span><span class="o">::</span><span class="kt">AbstractArray</span><span class="p">{</span><span class="o">&lt;:</span><span class="kt">AbstractRaster</span><span class="p">},</span><span class="w"> </span><span class="n">dims</span><span class="p">;</span><span class="w"> </span><span class="p">[</span><span class="n">refdims</span><span class="p">])</span>
<span class="n">RasterSeries</span><span class="p">(</span><span class="n">stacks</span><span class="o">::</span><span class="kt">AbstractArray</span><span class="p">{</span><span class="o">&lt;:</span><span class="kt">AbstractRasterStack</span><span class="p">},</span><span class="w"> </span><span class="n">dims</span><span class="p">;</span><span class="w"> </span><span class="p">[</span><span class="n">refdims</span><span class="p">])</span><span class="w"> </span>

<span class="n">RasterSeries</span><span class="p">(</span><span class="n">paths</span><span class="o">::</span><span class="kt">AbstractArray</span><span class="p">{</span><span class="o">&lt;:</span><span class="kt">AbstractString</span><span class="p">},</span><span class="w"> </span><span class="n">dims</span><span class="p">;</span><span class="w"> </span><span class="n">child</span><span class="p">,</span><span class="w"> </span><span class="n">duplicate_first</span><span class="p">,</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="n">RasterSeries</span><span class="p">(</span><span class="n">path</span><span class="o">:::</span><span class="kt">AbstractString</span><span class="p">,</span><span class="w"> </span><span class="n">dims</span><span class="p">;</span><span class="w"> </span><span class="n">ext</span><span class="p">,</span><span class="w"> </span><span class="n">separator</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">,</span><span class="w"> </span><span class="n">duplicate_first</span><span class="p">,</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Concrete implementation of <a href="./#Rasters.AbstractRasterSeries"><code>AbstractRasterSeries</code></a>.</p>
<p>A <code>RasterSeries</code> is an array of <code>Raster</code>s or <code>RasterStack</code>s, along some dimension(s).</p>
<p>Existing <code>Raster</code> <code>RasterStack</code> can be wrapped in a <code>RasterSeries</code>, or new files  can be loaded from an array of <code>String</code> or from a single <code>String</code>.</p>
<p>A single <code>String</code> can refer to a whole directory, or the name of a series of files in a directory, sharing a common stem. The differnce between the filenames can be used as the lookup for the series. </p>
<p>For example, with some tifs at these paths : </p>
<div class="highlight"><pre><span></span><code>"series_dir/myseries_2001-01-01T00:00:00.tif"
"series_dir/myseries_2002-01-01T00:00:00.tif"
</code></pre></div>
<p>We can load a <code>RasterSeries</code> with a <code>DateTime</code> lookup:</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RasterSeries</span><span class="p">(</span><span class="s">"series_dir/myseries.tif"</span><span class="p">,</span><span class="w"> </span><span class="n">Ti</span><span class="p">(</span><span class="n">DateTime</span><span class="p">))</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">RasterSeries</span><span class="p">{</span><span class="kt">Raster</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">dimensions</span><span class="o">:</span><span class="w"> </span>
<span class="w">  </span><span class="n">Ti</span><span class="w"> </span><span class="kt">Sampled</span><span class="p">{</span><span class="kt">DateTime</span><span class="p">}</span><span class="w"> </span><span class="n">DateTime</span><span class="p">[</span><span class="n">DateTime</span><span class="p">(</span><span class="s">"2001-01-01T00:00:00"</span><span class="p">),</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="s">"2002-01-01T00:00:00"</span><span class="p">)]</span><span class="w"> </span><span class="n">ForwardOrdered</span><span class="w"> </span><span class="n">Irregular</span><span class="w"> </span><span class="n">Points</span>
</code></pre></div>
<p>The <code>DateTime</code> suffix is parsed from the filenames. Using <code>Ti(Int)</code> would try to parse integers intead.</p>
<p>Just using the directory will also work, unless there are other files mixed in it:</p>
<div class="highlight"><pre><span></span><code><span class="n">julia</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RasterSeries</span><span class="p">(</span><span class="s">"series_dir"</span><span class="p">,</span><span class="w"> </span><span class="n">Ti</span><span class="p">(</span><span class="n">DateTime</span><span class="p">))</span>
<span class="mi">2</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">RasterSeries</span><span class="p">{</span><span class="kt">Raster</span><span class="p">,</span><span class="mi">1</span><span class="p">}</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">dimensions</span><span class="o">:</span><span class="w"> </span>
<span class="w">  </span><span class="n">Ti</span><span class="w"> </span><span class="kt">Sampled</span><span class="p">{</span><span class="kt">DateTime</span><span class="p">}</span><span class="w"> </span><span class="n">DateTime</span><span class="p">[</span><span class="n">DateTime</span><span class="p">(</span><span class="s">"2001-01-01T00:00:00"</span><span class="p">),</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="s">"2002-01-01T00:00:00"</span><span class="p">)]</span><span class="w"> </span><span class="n">ForwardOrdered</span><span class="w"> </span><span class="n">Irregular</span><span class="w"> </span><span class="n">Points</span>
</code></pre></div>
<p><strong>Arguments</strong></p>
<ul>
<li><code>dims</code>: series dimension/s.</li>
</ul>
<p><strong>Keywords</strong></p>
<p>When loading a series from a Vector of <code>String</code> paths or a single <code>String</code> path:</p>
<ul>
<li><code>child</code>: constructor of child objects for use when filenames are passed in,   can be <code>Raster</code> or <code>RasterStack</code>. Defaults to <code>Raster</code>.</li>
<li><code>duplicate_first::Bool</code>: wether to duplicate the dimensions and metadata of the   first file with all other files. This can save load time with a large   series where dimensions are identical. <code>false</code> by default.</li>
<li><code>lazy</code>: load files lazily, <code>false</code> by default.</li>
<li><code>kw</code>: keywords passed to the child constructor <a href="./#Rasters.Raster"><code>Raster</code></a> or <a href="./#Rasters.RasterStack"><code>RasterStack</code></a>.</li>
</ul>
<p>When loading a series from a single <code>String</code> path:</p>
<ul>
<li><code>ext</code>: filename extension such as ".tiff" or ".nc".    Use to specify a subset of files if only a directory path is passed in.</li>
<li><code>separator</code>: separator used to split lookup elements from the rest of a filename. '_' by default.</li>
</ul>
<p>Others:</p>
<ul>
<li><code>refdims</code>: existing reference dimension/s, normally not required.</li>
</ul>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/series.jl#L45-L114" class="documenter-source">source</a><br></p>
<p><a id="Rasters.RasterStack" href="#Rasters.RasterStack">#</a>
<strong><code>Rasters.RasterStack</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">RasterStack</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">AbstrackRasterStack</span>

<span class="n">RasterStack</span><span class="p">(</span><span class="n">data</span><span class="o">...</span><span class="p">;</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="n">RasterStack</span><span class="p">(</span><span class="n">data</span><span class="o">::</span><span class="kt">Union</span><span class="p">{</span><span class="kt">Vector</span><span class="p">,</span><span class="kt">Tuple</span><span class="p">};</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="n">RasterStack</span><span class="p">(</span><span class="n">data</span><span class="o">::</span><span class="kt">NamedTuple</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">))</span>
<span class="n">RasterStack</span><span class="p">(</span><span class="n">s</span><span class="o">::</span><span class="kt">AbstractRasterStack</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="n">RasterStack</span><span class="p">(</span><span class="n">s</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">;</span><span class="w"> </span><span class="n">layersfrom</span><span class="o">=</span><span class="n">Band</span><span class="p">,</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="n">RasterStack</span><span class="p">(</span><span class="n">filename</span><span class="o">::</span><span class="kt">AbstractString</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Load a file path or a <code>NamedTuple</code> of paths as a <code>RasterStack</code>, or convert arguments, a <code>Vector</code> or <code>NamedTuple</code> of <code>Raster</code>s to <code>RasterStack</code>.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>data</code>: A <code>NamedTuple</code> of <a href="./#Rasters.Raster"><code>Raster</code></a>s, or a <code>Vector</code>, <code>Tuple</code> or splatted arguments   of <a href="./#Rasters.Raster"><code>Raster</code></a>. The latter options must pass a <code>name</code> keyword argument.</li>
<li><code>filename</code>: A file (such as netcdf or tif) to be loaded as a stack, or a directory path   containing multiple files.</li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>name</code>: Used as stack layer names when a <code>Tuple</code>, <code>Vector</code> or splat of <code>Raster</code> is passed in.   Has no effect when <code>NameTuple</code> is used - the <code>NamedTuple</code> keys are the layer names.</li>
<li><code>metadata</code>: A <code>Dict</code> or <code>DimensionalData.Metadata</code> object.</li>
<li><code>refdims</code>: <code>Tuple</code> of <code>Dimension</code> that the stack was sliced from.</li>
<li><code>layersfrom</code>: <code>Dimension</code> to source stack layers from if the file is not already multi-layered.   <code>nothing</code> is default, so that a single <code>RasterStack(raster)</code> is a single layered stack.   <code>RasterStack(raster; layersfrom=Band)</code> will use the bands as layers.</li>
<li><code>lazy</code>: A <code>Bool</code> specifying whether to load the stack lazily from disk. <code>false</code> by default.</li>
<li><code>dropband</code>: drop single band dimensions when creating stacks from filenames. <code>true</code> by default.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="o">=</span><span class="s">"temp.tif"</span><span class="p">,</span><span class="w"> </span><span class="n">pressure</span><span class="o">=</span><span class="s">"pressure.tif"</span><span class="p">,</span><span class="w"> </span><span class="n">relhum</span><span class="o">=</span><span class="s">"relhum.tif"</span><span class="p">)</span>
<span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RasterStack</span><span class="p">(</span><span class="n">files</span><span class="p">;</span><span class="w"> </span><span class="n">mappedcrs</span><span class="o">=</span><span class="n">EPSG</span><span class="p">(</span><span class="mi">4326</span><span class="p">))</span>
<span class="n">stack</span><span class="p">[</span><span class="ss">:relhum</span><span class="p">][</span><span class="n">Lat</span><span class="p">(</span><span class="n">Contains</span><span class="p">(</span><span class="o">-</span><span class="mi">37</span><span class="p">),</span><span class="w"> </span><span class="n">Lon</span><span class="p">(</span><span class="n">Contains</span><span class="p">(</span><span class="mi">144</span><span class="p">))</span>
</code></pre></div>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/stack.jl#L118-L155" class="documenter-source">source</a><br></p>
<p><a id="DimensionalData.modify-Tuple{Any, AbstractRasterSeries}" href="#DimensionalData.modify-Tuple%7BAny,%20AbstractRasterSeries%7D">#</a>
<strong><code>DimensionalData.modify</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">modify</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">series</span><span class="o">::</span><span class="kt">AbstractRasterSeries</span><span class="p">)</span>
</code></pre></div>
<p>Apply function <code>f</code> to the data of the child object. If the child is an <code>AbstractRasterStack</code> the function will be passed on to its child <code>AbstractRaster</code>s.</p>
<p><code>f</code> must return an idenically sized array.</p>
<p>This method triggers a complete rebuild of all objects, and disk based objects will be transferred to memory.</p>
<p>An example of the usefulnesss of this is for swapping out array backend for an entire series to <code>CuArray</code> from CUDA.jl to copy data to a GPU.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/series.jl#L28-L42" class="documenter-source">source</a><br></p>
<p><a id="Rasters.aggregate" href="#Rasters.aggregate">#</a>
<strong><code>Rasters.aggregate</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">aggregate</span><span class="p">(</span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">object</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">progress</span><span class="p">,</span><span class="w"> </span><span class="n">skipmissing</span><span class="p">)</span>
</code></pre></div>
<p>Aggregate a <code>Raster</code>, or all arrays in a <code>RasterStack</code> or <code>RasterSeries</code>, by <code>scale</code> using <code>method</code>.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>method</code>: a function such as <code>mean</code> or <code>sum</code> that can combine the value of multiple cells to generate the aggregated cell, or a <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Locus"><code>Locus</code></a> like <code>Start()</code> or <code>Center()</code> that specifies where to sample from in the interval.</li>
<li><code>object</code>: Object to aggregate, like <code>AbstractRasterSeries</code>, <code>AbstractStack</code>, <code>AbstractRaster</code> or <code>Dimension</code>.</li>
<li><code>scale</code>: the aggregation factor, which can be an integer, a tuple of integers for each dimension, or any <code>Dimension</code>, <code>Selector</code> or <code>Int</code> combination you can usually use in <code>getindex</code>. Using a <code>Selector</code> will determine the scale by the distance from the start of the index.</li>
</ul>
<p>When the aggregation <code>scale</code> of is larger than the array axis, the length of the axis is used.</p>
<p><strong>Keywords</strong></p>
<ul>
<li><code>skipmissingval</code>: if <code>true</code>, any <code>missingval</code> will be skipped during aggregation, so that   only areas of all missing values will be aggregated to <code>missingval</code>. If <code>false</code>, any   aggegrated area containing a <code>missingval</code> will be assigned <code>missingval</code>.</li>
<li><code>filename</code>: a filename to write to directly, useful for large files.</li>
<li><code>suffix</code>: a string or value to append to the filename.   A tuple of <code>suffix</code> will be applied to stack layers. <code>keys(stack)</code> are the default.</li>
<li><code>progress</code>: show a progress bar, <code>true</code> by default, <code>false</code> to hide.</li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">Statistics</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span>
<span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="o">:</span><span class="w"> </span><span class="n">Center</span>
<span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read</span><span class="p">(</span><span class="n">RasterStack</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">Climate</span><span class="p">};</span><span class="w"> </span><span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="n">ag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aggregate</span><span class="p">(</span><span class="n">Center</span><span class="p">(),</span><span class="w"> </span><span class="n">st</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">Y</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span><span class="w"> </span><span class="n">skipmissingval</span><span class="o">=</span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="n">progress</span><span class="o">=</span><span class="nb">false</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">ag</span><span class="p">)</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/aggregate_example.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>
<span class="c"># output</span>
</code></pre></div>
<p><img alt="aggregate" src="../build/aggregate_example.png"></p>
<p>Note: currently it is faster to aggregate over memory-backed arrays. Use <a href="./#Base.read-Tuple%7BUnion%7BAbstractRaster,%20AbstractRasterSeries,%20AbstractRasterStack%7D%7D"><code>read</code></a> on <code>src</code> before use where required.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/aggregate.jl#L8-L54" class="documenter-source">source</a><br></p>
<p><a id="Rasters.aggregate!-Tuple{Locus, AbstractRaster, Any, Any}" href="#Rasters.aggregate!-Tuple%7BLocus,%20AbstractRaster,%20Any,%20Any%7D">#</a>
<strong><code>Rasters.aggregate!</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">aggregate!</span><span class="p">(</span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">;</span><span class="w"> </span><span class="n">skipmissingval</span><span class="o">=</span><span class="nb">false</span><span class="p">)</span>
</code></pre></div>
<p>Aggregate array <code>src</code> to array <code>dst</code> by <code>scale</code>, using <code>method</code>.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>method</code>: a function such as <code>mean</code> or <code>sum</code> that can combine the value of multiple cells to generate the aggregated cell, or a <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Locus"><code>Locus</code></a> like <code>Start()</code> or <code>Center()</code> that species where to sample from in the interval.</li>
<li><code>scale</code>: the aggregation factor, which can be an integer, a tuple of integers for each dimension, or any <code>Dimension</code>, <code>Selector</code> or <code>Int</code> combination you can usually use in <code>getindex</code>. Using a <code>Selector</code> will determine the scale by the distance from the start of the index in the <code>src</code> array.</li>
</ul>
<p>When the aggregation <code>scale</code> of is larger than the array axis, the length of the axis is used.</p>
<p><strong>Keywords</strong></p>
<ul>
<li><code>progress</code>: show a progress bar.</li>
<li><code>skipmissingval</code>: if <code>true</code>, any <code>missingval</code> will be skipped during aggregation, so that   only areas of all missing values will be aggregated to <code>missingval</code>. If <code>false</code>, any   aggegrated area containing a <code>missingval</code> will be assigned <code>missingval</code>.</li>
</ul>
<p>Note: currently it is <em>much</em> faster to aggregate over memory-backed arrays. Use <a href="./#Base.read-Tuple%7BUnion%7BAbstractRaster,%20AbstractRasterSeries,%20AbstractRasterStack%7D%7D"><code>read</code></a> on <code>src</code> before use where required.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/aggregate.jl#L102-L128" class="documenter-source">source</a><br></p>
<p><a id="Rasters.boolmask" href="#Rasters.boolmask">#</a>
<strong><code>Rasters.boolmask</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">boolmask</span><span class="p">(</span><span class="n">obj</span><span class="o">::</span><span class="kt">Raster</span><span class="p">;</span><span class="w"> </span><span class="p">[</span><span class="n">missingval</span><span class="p">])</span>
<span class="n">boolmask</span><span class="p">(</span><span class="n">obj</span><span class="p">;</span><span class="w"> </span><span class="p">[</span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">])</span>
</code></pre></div>
<p>Create a mask array of <code>Bool</code> values, from another <code>Raster</code>. An <code>AbstractRasterStack</code> or <code>AbstractRasterSeries</code> are also accepted, but a mask is taken of the first layer or object <em>not</em> all of them.</p>
<p>The array returned from calling <code>boolmask</code> on a <code>AbstractRaster</code> is a <a href="./#Rasters.Raster"><code>Raster</code></a> with the same dimensions as the original array and a <code>missingval</code> of <code>false</code>.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>obj</code>: a <a href="./#Rasters.Raster"><code>Raster</code></a>, a GeoInterface.jl geometry, or a vector or table of geometries.</li>
</ul>
<p><strong><code>Raster</code> / <code>RasterStack</code> Keywords</strong></p>
<ul>
<li><code>missingval</code>: The missing value of the source array, with default <code>missingval(raster)</code>.</li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>to</code>: a <code>Raster</code>, <code>RasterStack</code>, <code>Tuple</code> of <code>Dimension</code> or <code>Extents.Extent</code>.   If no <code>to</code> object is provided the extent will be calculated from the geometries,   Additionally, when no <code>to</code> object or an <code>Extent</code> is passed for <code>to</code>, the <code>size</code>   or <code>res</code> keyword must also be used.</li>
<li><code>res</code>: the resolution of the dimensions, a <code>Real</code> or <code>Tuple{&lt;:Real,&lt;:Real}</code>.   Only required when <code>to</code> is not used or is an <code>Extents.Extent</code>, and <code>size</code> is not used.</li>
<li><code>size</code>: the size of the output array, as a <code>Tuple{Int,Int}</code> or single <code>Int</code> for a square.   Only required when <code>to</code> is not used or is an <code>Extents.Extent</code>, and <code>res</code> is not used.</li>
<li><code>crs</code>: a <code>crs</code> which will be attached to the resulting raster when <code>to</code> not passed  or is an <code>Extent</code>. Otherwise the crs from <code>to</code> is used.</li>
<li><code>shape</code>: Force <code>data</code> to be treated as <code>:polygon</code>, <code>:line</code> or <code>:point</code> geometries.   using points or lines as polygons may have unexpected results.</li>
<li>
<p><code>boundary</code>: for polygons, include pixels where the <code>:center</code> is inside the polygon,   where the polygon <code>:touches</code> the pixel, or that are completely <code>:inside</code> the polygon.   The default is <code>:center</code>.</p>
</li>
<li>
<p><code>threaded</code>: run operations in parallel, <code>false</code> by default. In some circumstances <code>threaded</code>    can give large speedups over single-threaded operation. This can be true for complicated    geometries written into low-resolution rasters, but may not be for simple geometries with    high-resolution rasters. With very large rasters threading may be counter productive due    to excessing memory use. Caution should also be used: <code>threaded</code> should not be used in in-place    functions wrinting to <code>BitArray</code> or other arrays where race conditions can occur.</p>
</li>
<li><code>progress</code>: show a progress bar, <code>true</code> by default, <code>false</code> to hide.</li>
</ul>
<p>And specifically for <code>shape=:polygon</code>:</p>
<ul>
<li><code>boundary</code>: include pixels where the <code>:center</code> is inside the polygon, where   the line <code>:touches</code> the pixel, or that are completely <code>:inside</code> inside the polygon.   The default is <code>:center</code>.</li>
</ul>
<p>For tabular data, feature collections and other iterables</p>
<ul>
<li><code>collapse</code>: if <code>true</code>, collapse all geometry masks into a single mask. Otherwise   return a Raster with an additional <code>geometry</code> dimension, so that each slice   along this axis is the mask of the <code>geometry</code> opbject of each row of the   table, feature in the feature collection, or just each geometry in the iterable.</li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span><span class="p">,</span><span class="w"> </span><span class="n">Dates</span>
<span class="n">wc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">Climate</span><span class="p">},</span><span class="w"> </span><span class="ss">:prec</span><span class="p">;</span><span class="w"> </span><span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">boolmask</span><span class="p">(</span><span class="n">wc</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">plot</span>

<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/boolmask_example.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>

<span class="c"># output</span>
</code></pre></div>
<p><img alt="boolmask" src="../build/boolmask_example.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/mask.jl#L191-L245" class="documenter-source">source</a><br></p>
<p><a id="Rasters.classify" href="#Rasters.classify">#</a>
<strong><code>Rasters.classify</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">classify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">pairs</span><span class="p">;</span><span class="w"> </span><span class="n">lower</span><span class="o">=</span><span class="p">(</span><span class="o">&gt;=</span><span class="p">),</span><span class="w"> </span><span class="n">upper</span><span class="o">=</span><span class="p">(</span><span class="o">&lt;</span><span class="p">),</span><span class="w"> </span><span class="n">others</span><span class="o">=</span><span class="nb">nothing</span><span class="p">)</span>
<span class="n">classify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">pairs</span><span class="o">...</span><span class="p">;</span><span class="w"> </span><span class="n">lower</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">,</span><span class="w"> </span><span class="n">others</span><span class="p">)</span>
</code></pre></div>
<p>Create a new array with values in <code>x</code> classified by the values in <code>pairs</code>.</p>
<p><code>pairs</code> can hold tuples fo values <code>(2, 3)</code>, a <code>Fix2</code> function e.g. <code>&lt;=(1)</code>, a <code>Tuple</code> of <code>Fix2</code> e.g. <code>(&gt;=(4), &lt;(7))</code>, or an IntervalSets.jl interval, e.g. <code>3..9</code> or <code>OpenInterval(10, 12)</code>. <code>pairs</code> can also be a <code>n * 3</code> matrix where each row is lower bounds, upper bounds, replacement.</p>
<p>If tuples or a <code>Matrix</code> are used, the <code>lower</code> and <code>upper</code> keywords define how the lower and upper boundaries are chosen.</p>
<p>If <code>others</code> is set other values not covered in <code>pairs</code> will be set to that values.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>x</code>: a <code>Raster</code> or <code>RasterStack</code></li>
<li><code>pairs</code>: each pair contains a value and a replacement, a tuple of lower and upper   range and a replacement, or a Tuple of <code>Fix2</code> like <code>(&gt;(x), &lt;(y)</code>.</li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>lower</code>: Which comparison (<code>&lt;</code> or <code>&lt;=</code>) to use for lower values, if <code>Fix2</code> are not used.</li>
<li><code>upper</code>: Which comparison (<code>&gt;</code> or <code>&gt;=</code>) to use for upper values, if <code>Fix2</code> are not used.</li>
<li><code>others</code>: A value to assign to all values not included in <code>pairs</code>.   Passing <code>nothing</code> (the default) will leave them unchanged.</li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span>
<span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">Climate</span><span class="p">},</span><span class="w"> </span><span class="ss">:tavg</span><span class="p">;</span><span class="w"> </span><span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">classes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;=</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">          </span><span class="mi">15</span><span class="o">..</span><span class="mi">25</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
<span class="w">          </span><span class="mi">25</span><span class="o">..</span><span class="mi">35</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
<span class="w">          </span><span class="o">&gt;</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">40</span>
<span class="n">classified</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">classify</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">classes</span><span class="p">;</span><span class="w"> </span><span class="n">others</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">missingval</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">classified</span><span class="p">;</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="ss">:magma</span><span class="p">)</span>

<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/classify_example.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>

<span class="c"># output</span>
</code></pre></div>
<p><img alt="classify" src="../build/classify_example.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/classify.jl#L1-L49" class="documenter-source">source</a><br></p>
<p><a id="Rasters.classify!-Tuple{AbstractRaster, Pair, Vararg{Pair}}" href="#Rasters.classify!-Tuple%7BAbstractRaster,%20Pair,%20Vararg%7BPair%7D%7D">#</a>
<strong><code>Rasters.classify!</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">classify!</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">pairs</span><span class="o">...</span><span class="p">;</span><span class="w"> </span><span class="n">lower</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">,</span><span class="w"> </span><span class="n">others</span><span class="p">)</span>
<span class="n">classify!</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">pairs</span><span class="p">;</span><span class="w"> </span><span class="n">lower</span><span class="p">,</span><span class="w"> </span><span class="n">upper</span><span class="p">,</span><span class="w"> </span><span class="n">others</span><span class="p">)</span>
</code></pre></div>
<p>Classify the values of <code>x</code> in-place, by the values in <code>pairs</code>.</p>
<p>If <code>Fix2</code> is not used, the <code>lower</code> and <code>upper</code> keywords</p>
<p>If <code>others</code> is set other values not covered in <code>pairs</code> will be set to that values.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>x</code>: a <code>Raster</code> or <code>RasterStack</code></li>
<li><code>pairs</code>: each pair contains a value and a replacement, a tuple of lower and upper   range and a replacement, or a Tuple of <code>Fix2</code> like <code>(&gt;(x), &lt;(y)</code>.</li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>lower</code>: Which comparison (<code>&lt;</code> or <code>&lt;=</code>) to use for lower values, if <code>Fix2</code> are not used.</li>
<li><code>upper</code>: Which comparison (<code>&gt;</code> or <code>&gt;=</code>) to use for upper values, if <code>Fix2</code> are not used.</li>
<li><code>others</code>: A value to assign to all values not included in <code>pairs</code>.   Passing <code>nothing</code> (the default) will leave them unchanged.</li>
</ul>
<p><strong>Example</strong></p>
<p><code>classify!</code> to disk, with key steps:</p>
<ul>
<li>copying a tempory file so we don't write over the RasterDataSources.jl version.</li>
<li>use <code>open</code> with <code>write=true</code> to open the file with disk-write permissions.</li>
<li>use <code>Float32</code> like <code>10.0f0</code> for all our replacement values and <code>other</code>, because   the file is stored as <code>Float32</code>. Attempting to write some other type will fail.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span>
<span class="c"># Download and copy the file</span>
<span class="n">filename</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getraster</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">Climate</span><span class="p">},</span><span class="w"> </span><span class="ss">:tavg</span><span class="p">;</span><span class="w"> </span><span class="n">month</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="n">tempfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tempname</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="s">".tif"</span>
<span class="n">cp</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">tempfile</span><span class="p">)</span>
<span class="c"># Define classes</span>
<span class="n">classes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">          </span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
<span class="w">          </span><span class="p">(</span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="mi">35</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
<span class="w">          </span><span class="o">&gt;=</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">40</span>
<span class="c"># Open the file with write permission</span>
<span class="n">open</span><span class="p">(</span><span class="n">Raster</span><span class="p">(</span><span class="n">tempfile</span><span class="p">);</span><span class="w"> </span><span class="n">write</span><span class="o">=</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">A</span>
<span class="w">    </span><span class="n">classify!</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">classes</span><span class="p">;</span><span class="w"> </span><span class="n">others</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="k">end</span>
<span class="c"># Open it again to plot the changes</span>
<span class="n">plot</span><span class="p">(</span><span class="n">Raster</span><span class="p">(</span><span class="n">tempfile</span><span class="p">);</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="ss">:magma</span><span class="p">)</span>

<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/classify_bang_example.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>

<span class="c"># output</span>
</code></pre></div>
<p><img alt="classify!" src="../build/classify_bang_example.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/classify.jl#L84-L141" class="documenter-source">source</a><br></p>
<p><a id="Rasters.combine-Tuple{AbstractRasterSeries, Any}" href="#Rasters.combine-Tuple%7BAbstractRasterSeries,%20Any%7D">#</a>
<strong><code>Rasters.combine</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">combine</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="kt">Union</span><span class="p">{</span><span class="kt">AbstractRaster</span><span class="p">,</span><span class="kt">AbstractRasterStack</span><span class="p">,</span><span class="kt">AbstracRasterSeries</span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="n">dims</span><span class="p">])</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Raster</span>
</code></pre></div>
<p>Combine a <code>RasterSeries</code> along some dimension/s, creating a new <code>Raster</code> or <code>RasterStack</code>, depending on the contents of the series.</p>
<p>If <code>dims</code> are passed, only the specified dimensions will be combined with a <code>RasterSeries</code> returned, unless <code>dims</code> is all the dims in the series.</p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/slice_combine.jl#L32-L42" class="documenter-source">source</a><br></p>
<p>&lt;a id='Rasters.convertlookup-Tuple{Type{&lt;:LookupArray}, AbstractDimArray}' href='#Rasters.convertlookup-Tuple{Type{&lt;:LookupArray}, AbstractDimArray}'&gt;#
<strong><code>Rasters.convertlookup</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">convertlookup</span><span class="p">(</span><span class="n">dstlookup</span><span class="o">::</span><span class="kt">Type</span><span class="p">{</span><span class="o">&lt;:</span><span class="kt">LookupArray</span><span class="p">},</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
</code></pre></div>
<p>Convert the dimension lookup between <code>Projected</code> and <code>Mapped</code>. Other dimension lookups pass through unchanged.</p>
<p>This is used to e.g. save a netcdf file to GeoTiff.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/lookup.jl#L140-L147" class="documenter-source">source</a><br></p>
<p><a id="Rasters.coverage!-Tuple{Union{typeof(sum), typeof(union)}, AbstractRaster, Any}" href="#Rasters.coverage!-Tuple%7BUnion%7Btypeof(sum),%20typeof(union)%7D,%20AbstractRaster,%20Any%7D">#</a>
<strong><code>Rasters.coverage!</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">coverage!</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="p">;</span><span class="w"> </span><span class="p">[</span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">])</span>
</code></pre></div>
<p>Calculate the area of a raster covered by GeoInterface.jl compatible geomtry <code>geom</code>, as a fraction.</p>
<p>Each pixel is assigned a grid of points (by default 10 x 10) that are each checked to be inside the geometry. The sum divided by the number of points to give coverage.</p>
<p>In pracice, most pixel coverage is not calculated this way - shortcuts that  produce the same result are taken wherever possible.</p>
<p>If <code>geom</code> is an <code>AbstractVector</code> or table, the <code>mode</code> keyword will determine how coverage is combined.</p>
<p><strong>Keywords</strong></p>
<ul>
<li>
<p><code>mode</code>: method for combining multiple geometries - <code>union</code> or <code>sum</code>. </p>
<ul>
<li><code>union</code> (the default) gives the areas covered by all geometries. Usefull in spatial coverage where overlapping regions should not be counted twice. The returned raster will contain <code>Float64</code> values between <code>0.0</code> and <code>1.0</code>.</li>
<li><code>sum</code> gives the summed total of the areas covered by all geometries, as in taking the sum of running <code>coverage</code> separately on all geometries. The returned values are positive <code>Float64</code>.</li>
</ul>
<p>For a single geometry, the <code>mode</code> keyword has no effect - the result is the same.
  * <code>scale</code>: <code>Integer</code> scale of pixel subdivision. The default of <code>10</code> means each pixel has    10 x 10 or 100 points that contribute to coverage. Using <code>100</code> means 10,000 points   contribute. Performance will decline as <code>scale</code> increases. Memory use will grow    by <code>scale^2</code> when <code>mode=:union</code>.
  * <code>threaded</code>: run operations in parallel, <code>false</code> by default. In some circumstances <code>threaded</code>    can give large speedups over single-threaded operation. This can be true for complicated    geometries written into low-resolution rasters, but may not be for simple geometries with    high-resolution rasters. With very large rasters threading may be counter productive due    to excessing memory use. Caution should also be used: <code>threaded</code> should not be used in in-place    functions wrinting to <code>BitArray</code> or other arrays where race conditions can occur.
  * <code>progress</code>: show a progress bar, <code>true</code> by default, <code>false</code> to hide.
  * <code>vebose</code>: whether to print messages about potential problems. <code>true</code> by default.</p>
</li>
</ul>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/coverage.jl#L63-L71" class="documenter-source">source</a><br></p>
<p><a id="Rasters.coverage-Tuple{Any}" href="#Rasters.coverage-Tuple%7BAny%7D">#</a>
<strong><code>Rasters.coverage</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">coverage</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="p">;</span><span class="w"> </span><span class="p">[</span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">,</span><span class="w"> </span><span class="n">verbose</span><span class="p">,</span><span class="w"> </span><span class="n">progress</span><span class="p">])</span>
<span class="n">coverage</span><span class="p">(</span><span class="n">geom</span><span class="p">;</span><span class="w"> </span><span class="p">[</span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">,</span><span class="w"> </span><span class="n">verbose</span><span class="p">,</span><span class="w"> </span><span class="n">progress</span><span class="p">])</span>
</code></pre></div>
<p>Calculate the area of a raster covered by GeoInterface.jl compatible geomtry <code>geom</code>, as a fraction.</p>
<p>Each pixel is assigned a grid of points (by default 10 x 10) that are each checked to be inside the geometry. The sum divided by the number of points to give coverage.</p>
<p>In pracice, most pixel coverage is not calculated this way - shortcuts that  produce the same result are taken wherever possible.</p>
<p>If <code>geom</code> is an <code>AbstractVector</code> or table, the <code>mode</code> keyword will determine how coverage is combined.</p>
<p><strong>Keywords</strong></p>
<ul>
<li>
<p><code>mode</code>: method for combining multiple geometries - <code>union</code> or <code>sum</code>. </p>
<ul>
<li><code>union</code> (the default) gives the areas covered by all geometries. Usefull in spatial coverage where overlapping regions should not be counted twice. The returned raster will contain <code>Float64</code> values between <code>0.0</code> and <code>1.0</code>.</li>
<li><code>sum</code> gives the summed total of the areas covered by all geometries, as in taking the sum of running <code>coverage</code> separately on all geometries. The returned values are positive <code>Float64</code>.</li>
</ul>
<p>For a single geometry, the <code>mode</code> keyword has no effect - the result is the same.
  * <code>scale</code>: <code>Integer</code> scale of pixel subdivision. The default of <code>10</code> means each pixel has    10 x 10 or 100 points that contribute to coverage. Using <code>100</code> means 10,000 points   contribute. Performance will decline as <code>scale</code> increases. Memory use will grow    by <code>scale^2</code> when <code>mode=:union</code>.
  * <code>threaded</code>: run operations in parallel, <code>false</code> by default. In some circumstances <code>threaded</code>    can give large speedups over single-threaded operation. This can be true for complicated    geometries written into low-resolution rasters, but may not be for simple geometries with    high-resolution rasters. With very large rasters threading may be counter productive due    to excessing memory use. Caution should also be used: <code>threaded</code> should not be used in in-place    functions wrinting to <code>BitArray</code> or other arrays where race conditions can occur.
  * <code>progress</code>: show a progress bar, <code>true</code> by default, <code>false</code> to hide.
  * <code>vebose</code>: whether to print messages about potential problems. <code>true</code> by default.</p>
</li>
<li>
<p><code>to</code>: a <code>Raster</code>, <code>RasterStack</code>, <code>Tuple</code> of <code>Dimension</code> or <code>Extents.Extent</code>.   If no <code>to</code> object is provided the extent will be calculated from the geometries,   Additionally, when no <code>to</code> object or an <code>Extent</code> is passed for <code>to</code>, the <code>size</code>   or <code>res</code> keyword must also be used.</p>
</li>
<li><code>size</code>: the size of the output array, as a <code>Tuple{Int,Int}</code> or single <code>Int</code> for a square.   Only required when <code>to</code> is not used or is an <code>Extents.Extent</code>, and <code>res</code> is not used.</li>
<li><code>res</code>: the resolution of the dimensions, a <code>Real</code> or <code>Tuple{&lt;:Real,&lt;:Real}</code>.   Only required when <code>to</code> is not used or is an <code>Extents.Extent</code>, and <code>size</code> is not used.</li>
</ul>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/coverage.jl#L32-L44" class="documenter-source">source</a><br></p>
<p><a id="Rasters.crop" href="#Rasters.crop">#</a>
<strong><code>Rasters.crop</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">crop</span><span class="p">(</span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">to</span><span class="p">)</span>
<span class="n">crop</span><span class="p">(</span><span class="n">xs</span><span class="o">...</span><span class="p">;</span><span class="w"> </span><span class="n">to</span><span class="p">)</span>
</code></pre></div>
<p>Crop one or multiple <a href="./#Rasters.AbstractRaster"><code>AbstractRaster</code></a> or <a href="./#Rasters.AbstractRasterStack"><code>AbstractRasterStack</code></a> <code>x</code> to match the size of the object <code>to</code>, or smallest of any dimensions that are shared.</p>
<p><code>crop</code> is lazy, using a <code>view</code> into the object rather than alocating new memory.</p>
<p><strong>Keywords</strong></p>
<ul>
<li><code>to</code>: the object to crop to. If no <code>to</code> keyword is passed, the smallest shared   area of all <code>xs</code> is used.</li>
<li><code>touches</code>: <code>true</code> or <code>false</code>. Whether to use <code>Touches</code> wraper on the object extent.  When lines need to be included in e.g. zonal statistics, <code>true</code> should be used.</li>
</ul>
<p>As <code>crop</code> is lazy, <code>filename</code> and <code>suffix</code> keywords are not used.</p>
<p><strong>Example</strong></p>
<p>Crop to another raster:</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span>
<span class="n">evenness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">EarthEnv</span><span class="p">{</span><span class="kt">HabitatHeterogeneity</span><span class="p">},</span><span class="w"> </span><span class="ss">:evenness</span><span class="p">)</span>
<span class="n">rnge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">EarthEnv</span><span class="p">{</span><span class="kt">HabitatHeterogeneity</span><span class="p">},</span><span class="w"> </span><span class="ss">:range</span><span class="p">)</span>

<span class="c"># Roughly cut out New Zealand from the evenness raster</span>
<span class="n">nz_bounds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="mi">165</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="mi">180</span><span class="p">),</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="o">-</span><span class="mi">32</span><span class="p">)</span>
<span class="n">nz_evenness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evenness</span><span class="p">[</span><span class="n">nz_bounds</span><span class="o">...</span><span class="p">]</span>

<span class="c"># Crop range to match evenness</span>
<span class="n">nz_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">crop</span><span class="p">(</span><span class="n">rnge</span><span class="p">;</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="n">nz_evenness</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">nz_range</span><span class="p">)</span>

<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/nz_crop_example.png"</span><span class="p">)</span>
<span class="nb">nothing</span>

<span class="c"># output</span>
</code></pre></div>
<p><img alt="new zealand evenness cropped" src="../build/nz_crop_example.png"></p>
<p>Crop to a polygon:</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span><span class="p">,</span><span class="w"> </span><span class="n">Dates</span><span class="p">,</span><span class="w"> </span><span class="n">Shapefile</span><span class="p">,</span><span class="w"> </span><span class="n">Downloads</span>

<span class="c"># Download a borders shapefile</span>
<span class="n">shapefile_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"https://github.com/nvkelso/natural-earth-vector/raw/master/10m_cultural/ne_10m_admin_0_countries.shp"</span>
<span class="n">shapefile_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"boundary.shp"</span>
<span class="n">isfile</span><span class="p">(</span><span class="n">shapefile_name</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">Downloads</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">shapefile_url</span><span class="p">,</span><span class="w"> </span><span class="n">shapefile_name</span><span class="p">)</span>
<span class="n">shp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Shapefile</span><span class="o">.</span><span class="n">Handle</span><span class="p">(</span><span class="n">shapefile_name</span><span class="p">)</span><span class="o">.</span><span class="n">shapes</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>

<span class="n">evenness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">EarthEnv</span><span class="p">{</span><span class="kt">HabitatHeterogeneity</span><span class="p">},</span><span class="w"> </span><span class="ss">:evenness</span><span class="p">)</span>
<span class="n">argentina_evenness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">crop</span><span class="p">(</span><span class="n">evenness</span><span class="p">;</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="n">shp</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">argentina_evenness</span><span class="p">)</span>

<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/argentina_crop_example.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>

<span class="c"># output</span>
</code></pre></div>
<p><img alt="argentina evenness cropped" src="../build/argentina_crop_example.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/crop_extend.jl#L1-L67" class="documenter-source">source</a><br></p>
<p><a id="Rasters.crs" href="#Rasters.crs">#</a>
<strong><code>Rasters.crs</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">crs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>
<p>Get the projected coordinate reference system of a <code>Y</code> or <code>X</code> <code>Dimension</code>, or of the <code>Y</code>/<code>X</code> dims of an <code>AbstractRaster</code>.</p>
<p>For <a href="./#Rasters.Mapped"><code>Mapped</code></a> lookup this may be <code>nothing</code> as there may be no projected coordinate reference system at all. See <a href="./#Rasters.setcrs-Tuple%7BTuple%7BDimension,%20Vararg%7BDimension%7D%7D,%20Any%7D"><code>setcrs</code></a> to set it manually.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/array.jl#L56-L65" class="documenter-source">source</a><br></p>
<p><a id="Rasters.disaggregate" href="#Rasters.disaggregate">#</a>
<strong><code>Rasters.disaggregate</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">disaggregate</span><span class="p">(</span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">object</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">progress</span><span class="p">,</span><span class="w"> </span><span class="n">keys</span><span class="p">)</span>
</code></pre></div>
<p>Disaggregate array, or all arrays in a stack or series, by some scale.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>method</code>: a function such as <code>mean</code> or <code>sum</code> that can combine the value of multiple cells to generate the aggregated cell, or a <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Locus"><code>Locus</code></a> like <code>Start()</code> or <code>Center()</code> that species where to sample from in the interval.</li>
<li><code>object</code>: Object to aggregate, like <code>AbstractRasterSeries</code>, <code>AbstractStack</code>, <code>AbstractRaster</code> or a <code>Dimension</code>.</li>
<li><code>scale</code>: the aggregation factor, which can be an integer, a tuple of integers for each dimension, or any <code>Dimension</code>, <code>Selector</code> or <code>Int</code> combination you can usually use in <code>getindex</code>. Using a <code>Selector</code> will determine the scale by the distance from the start of the index.</li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>progress</code>: show a progress bar.</li>
</ul>
<p>Note: currently it is faster to aggregate over memory-backed arrays. Use <a href="./#Base.read-Tuple%7BUnion%7BAbstractRaster,%20AbstractRasterSeries,%20AbstractRasterStack%7D%7D"><code>read</code></a> on <code>src</code> before use where required.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/aggregate.jl#L171-L195" class="documenter-source">source</a><br></p>
<p><a id="Rasters.disaggregate!-Tuple{Locus, AbstractRaster, Any, Any}" href="#Rasters.disaggregate!-Tuple%7BLocus,%20AbstractRaster,%20Any,%20Any%7D">#</a>
<strong><code>Rasters.disaggregate!</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">disaggregate!</span><span class="p">(</span><span class="n">method</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">,</span><span class="w"> </span><span class="n">src</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">,</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">scale</span><span class="p">)</span>
</code></pre></div>
<p>Disaggregate array <code>src</code> to array <code>dst</code> by some scale, using <code>method</code>.</p>
<ul>
<li><code>method</code>: a function such as <code>mean</code> or <code>sum</code> that can combine the value of multiple cells to generate the aggregated cell, or a <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Locus"><code>Locus</code></a> like <code>Start()</code> or <code>Center()</code> that species where to sample from in the interval.</li>
<li><code>scale</code>: the aggregation factor, which can be an integer, a tuple of integers for each dimension, or any <code>Dimension</code>, <code>Selector</code> or <code>Int</code> combination you can usually use in <code>getindex</code>. Using a <code>Selector</code> will determine the scale by the distance from the start of the index in the <code>src</code> array.</li>
</ul>
<p>Note: currently it is faster to aggregate over memory-backed arrays. Use <a href="./#Base.read-Tuple%7BUnion%7BAbstractRaster,%20AbstractRasterSeries,%20AbstractRasterStack%7D%7D"><code>read</code></a> on <code>src</code> before use where required.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/aggregate.jl#L246-L261" class="documenter-source">source</a><br></p>
<p><a id="Rasters.extend" href="#Rasters.extend">#</a>
<strong><code>Rasters.extend</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">extend</span><span class="p">(</span><span class="n">xs</span><span class="o">...</span><span class="p">;</span><span class="w"> </span><span class="p">[</span><span class="n">to</span><span class="p">])</span>
<span class="n">extend</span><span class="p">(</span><span class="n">xs</span><span class="p">;</span><span class="w"> </span><span class="p">[</span><span class="n">to</span><span class="p">])</span>
<span class="n">extend</span><span class="p">(</span><span class="n">x</span><span class="o">::</span><span class="kt">Union</span><span class="p">{</span><span class="kt">AbstractRaster</span><span class="p">,</span><span class="kt">AbstractRasterStack</span><span class="p">};</span><span class="w"> </span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Extend one or multiple <a href="./#Rasters.AbstractRaster"><code>AbstractRaster</code></a> to match the area covered by all <code>xs</code>, or by the keyword argument <code>to</code>.</p>
<p><strong>Keywords</strong></p>
<ul>
<li><code>to</code>: the Raster or dims to extend to. If no <code>to</code> keyword is passed, the largest   shared area of all <code>xs</code> is used.</li>
<li><code>touches</code>: <code>true</code> or <code>false</code>. Whether to use <code>Touches</code> wraper on the object extent.  When lines need to be included in e.g. zonal statistics, <code>true</code> shoudle be used.</li>
<li><code>filename</code>: a filename to write to directly, useful for large files.</li>
<li><code>suffix</code>: a string or value to append to the filename.   A tuple of <code>suffix</code> will be applied to stack layers. <code>keys(stack)</code> are the default.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span>
<span class="n">evenness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">EarthEnv</span><span class="p">{</span><span class="kt">HabitatHeterogeneity</span><span class="p">},</span><span class="w"> </span><span class="ss">:evenness</span><span class="p">)</span>
<span class="n">rnge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">EarthEnv</span><span class="p">{</span><span class="kt">HabitatHeterogeneity</span><span class="p">},</span><span class="w"> </span><span class="ss">:range</span><span class="p">)</span>

<span class="c"># Roughly cut out South America</span>
<span class="n">sa_bounds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="o">-</span><span class="mi">88</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="o">-</span><span class="mi">32</span><span class="p">),</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="o">-</span><span class="mi">57</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="mi">13</span><span class="p">)</span>
<span class="n">sa_evenness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">evenness</span><span class="p">[</span><span class="n">sa_bounds</span><span class="o">...</span><span class="p">]</span>

<span class="c"># Extend range to match the whole-world raster</span>
<span class="n">sa_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">extend</span><span class="p">(</span><span class="n">sa_evenness</span><span class="p">;</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="n">rnge</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">sa_range</span><span class="p">)</span>

<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/extend_example.png"</span><span class="p">)</span>
<span class="nb">nothing</span>
<span class="c"># output</span>
</code></pre></div>
<p><img alt="extend" src="../build/extend_example.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/crop_extend.jl#L114-L152" class="documenter-source">source</a><br></p>
<p><a id="Rasters.extract" href="#Rasters.extract">#</a>
<strong><code>Rasters.extract</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">extract</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">geoms</span><span class="p">;</span><span class="w"> </span><span class="n">atol</span><span class="p">)</span>
</code></pre></div>
<p>Extracts the value of <code>Raster</code> or <code>RasterStack</code> at given points, returning an iterable of <code>NamedTuple</code> with properties for <code>:geometry</code> and raster or stack layer values.</p>
<p>Note that if objects have more dimensions than the length of the point tuples, sliced arrays or stacks will be returned instead of single values.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>x</code>: a <code>Raster</code> or <code>RasterStack</code> to extract values from.</li>
<li><code>geoms</code>: GeoInterface.jl compatible geometries, or tables or iterables of geometries.</li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>atol</code>: a tolorerance for floating point lookup values for when the <code>LookupArray</code>   contains <code>Points</code>. <code>atol</code> is ignored for <code>Intervals</code>.</li>
</ul>
<p><strong>Example</strong></p>
<p>Here we extact points matching the occurrence of the Mountain Pygmy Possum, <em>Burramis parvus</em>. This could be used to fit a species distribution model.</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">GBIF2</span><span class="p">,</span><span class="w"> </span><span class="n">CSV</span>

<span class="c"># Get a stack of BioClim layers, and replace missing values with `missing`</span>
<span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RasterStack</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">BioClim</span><span class="p">},</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">))</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">replace_missing</span>

<span class="c"># Download some occurrence data</span>
<span class="n">obs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GBIF2</span><span class="o">.</span><span class="n">occurrence_search</span><span class="p">(</span><span class="s">"Burramys parvus"</span><span class="p">;</span><span class="w"> </span><span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="n">year</span><span class="o">=</span><span class="s">"2009"</span><span class="p">)</span>

<span class="c"># Convert observations to points</span>
<span class="n">pnts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collect</span><span class="p">((</span><span class="n">o</span><span class="o">.</span><span class="n">decimalLongitude</span><span class="p">,</span><span class="w"> </span><span class="n">o</span><span class="o">.</span><span class="n">decimalLatitude</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">obs</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="n">ismissing</span><span class="p">(</span><span class="n">o</span><span class="o">.</span><span class="n">decimalLongitude</span><span class="p">))</span>

<span class="c"># use `extract` to get values for all layers at each observation point.</span>
<span class="c"># We `collect` to get a `Vector` from the lazy iterator.</span>
<span class="n">collect</span><span class="p">(</span><span class="n">extract</span><span class="p">(</span><span class="n">st</span><span class="p">,</span><span class="w"> </span><span class="n">pnts</span><span class="p">))</span>

<span class="c"># output</span>
<span class="mi">5</span><span class="o">-</span><span class="n">element</span><span class="w"> </span><span class="kt">Vector</span><span class="p">{</span><span class="kt">NamedTuple</span><span class="p">{(</span><span class="ss">:geometry</span><span class="p">,</span><span class="w"> </span><span class="ss">:bio1</span><span class="p">,</span><span class="w"> </span><span class="ss">:bio3</span><span class="p">,</span><span class="w"> </span><span class="ss">:bio5</span><span class="p">,</span><span class="w"> </span><span class="ss">:bio7</span><span class="p">,</span><span class="w"> </span><span class="ss">:bio12</span><span class="p">)}}</span><span class="o">:</span>
<span class="w"> </span><span class="p">(</span><span class="n">geometry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">0.21</span><span class="p">,</span><span class="w"> </span><span class="mf">40.07</span><span class="p">),</span><span class="w"> </span><span class="n">bio1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">17.077084f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">41.20417f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">30.1f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">24.775f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">446.0f0</span><span class="p">)</span>
<span class="w"> </span><span class="p">(</span><span class="n">geometry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">0.03</span><span class="p">,</span><span class="w"> </span><span class="mf">39.97</span><span class="p">),</span><span class="w"> </span><span class="n">bio1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">17.076923f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">39.7983f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">29.638462f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">24.153847f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">441.0f0</span><span class="p">)</span>
<span class="w"> </span><span class="p">(</span><span class="n">geometry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">0.03</span><span class="p">,</span><span class="w"> </span><span class="mf">39.97</span><span class="p">),</span><span class="w"> </span><span class="n">bio1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">17.076923f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">39.7983f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">29.638462f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">24.153847f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">441.0f0</span><span class="p">)</span>
<span class="w"> </span><span class="p">(</span><span class="n">geometry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">0.52</span><span class="p">,</span><span class="w"> </span><span class="mf">40.37</span><span class="p">),</span><span class="w"> </span><span class="n">bio1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">missing</span><span class="p">,</span><span class="w"> </span><span class="n">bio3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">missing</span><span class="p">,</span><span class="w"> </span><span class="n">bio5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">missing</span><span class="p">,</span><span class="w"> </span><span class="n">bio7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">missing</span><span class="p">,</span><span class="w"> </span><span class="n">bio12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">missing</span><span class="p">)</span>
<span class="w"> </span><span class="p">(</span><span class="n">geometry</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mf">0.32</span><span class="p">,</span><span class="w"> </span><span class="mf">40.24</span><span class="p">),</span><span class="w"> </span><span class="n">bio1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">16.321388f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">41.659454f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">30.029825f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">25.544561f0</span><span class="p">,</span><span class="w"> </span><span class="n">bio12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">480.0f0</span><span class="p">)</span>
</code></pre></div>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/extract.jl#L1-L50" class="documenter-source">source</a><br></p>
<p><a id="Rasters.mappedbounds" href="#Rasters.mappedbounds">#</a>
<strong><code>Rasters.mappedbounds</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">mappedbounds</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>
<p>Get the bounds converted to the <a href="./#Rasters.mappedcrs"><code>mappedcrs</code></a> value.</p>
<p>Whithout ArchGDAL loaded, this is just the regular bounds.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/lookup.jl#L232-L238" class="documenter-source">source</a><br></p>
<p><a id="Rasters.mappedcrs" href="#Rasters.mappedcrs">#</a>
<strong><code>Rasters.mappedcrs</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">mappedcrs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>
<p>Get the mapped coordinate reference system for the <code>Y</code>/<code>X</code> dims of an array.</p>
<p>In <a href="./#Rasters.Projected"><code>Projected</code></a> lookup this is used to convert <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Selector"><code>Selector</code></a> values form the mappedcrs defined projection to the underlying projection, and to show plot axes in the mapped projection.</p>
<p>In <code>Mapped</code> lookup this is the coordinate reference system of the index values. See <a href="./#Rasters.setmappedcrs-Tuple%7BTuple%7BDimension,%20Vararg%7BDimension%7D%7D,%20Any%7D"><code>setmappedcrs</code></a> to set it manually.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/array.jl#L79-L90" class="documenter-source">source</a><br></p>
<p><a id="Rasters.mappedindex" href="#Rasters.mappedindex">#</a>
<strong><code>Rasters.mappedindex</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">mappedindex</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>
<p>Get the index value of a dimension converted to the <code>mappedcrs</code> value.</p>
<p>Whithout ArchGDAL loaded, this is just the regular dim value.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/lookup.jl#L261-L267" class="documenter-source">source</a><br></p>
<p><a id="Rasters.mask!" href="#Rasters.mask!">#</a>
<strong><code>Rasters.mask!</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">mask!</span><span class="p">(</span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">with</span><span class="p">,</span><span class="w"> </span><span class="n">missingval</span><span class="o">=</span><span class="n">missingval</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
</code></pre></div>
<p>Mask <code>A</code> by the missing values of <code>with</code>, or by all values outside <code>with</code> if it is a polygon.</p>
<p>If <code>with</code> is a polygon, creates a new array where points falling outside the polygon have been replaced by <code>missingval(A)</code>.</p>
<p>Return a new array with values of <code>A</code> masked by the missing values of <code>with</code>, or by a polygon.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>x</code>: a <code>Raster</code> or <code>RasterStack</code>.</li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>with</code>: another <code>AbstractRaster</code>, a <code>AbstractVector</code> of <code>Tuple</code> points,   or any GeoInterface.jl <code>AbstractGeometry</code>. The coordinate reference system   of the point must match <code>crs(A)</code>.</li>
<li><code>missingval</code>: the missing value to write to A in masked areas,   by default <code>missingval(A)</code>.</li>
</ul>
<p><strong>Example</strong></p>
<p>Mask an unmasked AWAP layer with a masked WorldClim layer, by first resampling the mask to match the size and projection.</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span><span class="p">,</span><span class="w"> </span><span class="n">Dates</span>

<span class="c"># Load and plot the file</span>
<span class="n">awap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read</span><span class="p">(</span><span class="n">RasterStack</span><span class="p">(</span><span class="n">AWAP</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="ss">:tmin</span><span class="p">,</span><span class="w"> </span><span class="ss">:tmax</span><span class="p">);</span><span class="w"> </span><span class="n">date</span><span class="o">=</span><span class="n">DateTime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)))</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">awap</span><span class="p">;</span><span class="w"> </span><span class="n">clims</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">45</span><span class="p">),</span><span class="w"> </span><span class="n">c</span><span class="o">=</span><span class="ss">:imola</span><span class="p">)</span>

<span class="c"># Create a mask my resampling a worldclim file</span>
<span class="n">wc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">Climate</span><span class="p">},</span><span class="w"> </span><span class="ss">:prec</span><span class="p">;</span><span class="w"> </span><span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">wc_mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">resample</span><span class="p">(</span><span class="n">wc</span><span class="p">;</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="n">awap</span><span class="p">)</span>

<span class="c"># Mask</span>
<span class="n">mask!</span><span class="p">(</span><span class="n">awap</span><span class="p">;</span><span class="w"> </span><span class="n">with</span><span class="o">=</span><span class="n">wc_mask</span><span class="p">)</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">awap</span><span class="p">;</span><span class="w"> </span><span class="n">clims</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">45</span><span class="p">))</span>

<span class="n">savefig</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="s">"docs/build/mask_bang_example_before.png"</span><span class="p">);</span>
<span class="n">savefig</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="s">"docs/build/mask_bang_example_after.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>

<span class="c"># output</span>
</code></pre></div>
<p><strong>Before <code>mask!</code>:</strong></p>
<p><img alt="before mask!" src="../build/mask_bang_example_before.png"></p>
<p><strong>After <code>mask!</code>:</strong></p>
<p><img alt="after mask!" src="../build/mask_bang_example_after.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/mask.jl#L94-L153" class="documenter-source">source</a><br></p>
<p><a id="Rasters.mask-Tuple{Any}" href="#Rasters.mask-Tuple%7BAny%7D">#</a>
<strong><code>Rasters.mask</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">mask</span><span class="p">(</span><span class="n">A</span><span class="o">:</span><span class="n">AbstractRaster</span><span class="p">;</span><span class="w"> </span><span class="n">with</span><span class="p">,</span><span class="w"> </span><span class="n">missingval</span><span class="o">=</span><span class="n">missingval</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
<span class="n">mask</span><span class="p">(</span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">with</span><span class="p">)</span>
</code></pre></div>
<p>Return a new array with values of <code>A</code> masked by the missing values of <code>with</code>, or by the shape of <code>with</code>, if <code>with</code> is a geometric object.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>x</code>: a <code>Raster</code> or <code>RasterStack</code></li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>with</code>: an <code>AbstractRaster</code>, or any GeoInterface.jl compatible objects   or table. The coordinate reference system of the point must match <code>crs(A)</code>.</li>
<li><code>missingval</code>: the missing value to use in the returned file.</li>
<li><code>filename</code>: a filename to write to directly, useful for large files.</li>
<li><code>suffix</code>: a string or value to append to the filename.   A tuple of <code>suffix</code> will be applied to stack layers. <code>keys(stack)</code> are the default.</li>
</ul>
<p><strong>Geometry keywords</strong></p>
<p>These can be used when <code>with</code> is a GeoInterface.jl compatible object:</p>
<ul>
<li><code>shape</code>: Force <code>data</code> to be treated as <code>:polygon</code>, <code>:line</code> or <code>:point</code> geometries.   using points or lines as polygons may have unexpected results.</li>
<li><code>boundary</code>: for polygons, include pixels where the <code>:center</code> is inside the polygon,   where the polygon <code>:touches</code> the pixel, or that are completely <code>:inside</code> the polygon.   The default is <code>:center</code>.</li>
</ul>
<p><strong>Example</strong></p>
<p>Mask an unmasked AWAP layer with a masked WorldClim layer, by first resampling the mask.</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span><span class="p">,</span><span class="w"> </span><span class="n">Dates</span>

<span class="c"># Load and plot the file</span>
<span class="n">awap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read</span><span class="p">(</span><span class="n">Raster</span><span class="p">(</span><span class="n">AWAP</span><span class="p">,</span><span class="w"> </span><span class="ss">:tmax</span><span class="p">;</span><span class="w"> </span><span class="n">date</span><span class="o">=</span><span class="n">DateTime</span><span class="p">(</span><span class="mi">2001</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)))</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">awap</span><span class="p">;</span><span class="w"> </span><span class="n">clims</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">45</span><span class="p">))</span>

<span class="c"># Create a mask my resampling a worldclim file</span>
<span class="n">wc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">Climate</span><span class="p">},</span><span class="w"> </span><span class="ss">:prec</span><span class="p">;</span><span class="w"> </span><span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">wc_mask</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">resample</span><span class="p">(</span><span class="n">wc</span><span class="p">;</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="n">awap</span><span class="p">)</span>

<span class="c"># Mask</span>
<span class="n">awap_masked</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mask</span><span class="p">(</span><span class="n">awap</span><span class="p">;</span><span class="w"> </span><span class="n">with</span><span class="o">=</span><span class="n">wc_mask</span><span class="p">)</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">awap_masked</span><span class="p">;</span><span class="w"> </span><span class="n">clims</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">45</span><span class="p">))</span>

<span class="n">savefig</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="s">"docs/build/mask_example_before.png"</span><span class="p">);</span>
<span class="n">savefig</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="s">"docs/build/mask_example_after.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>
<span class="c"># output</span>
</code></pre></div>
<p><strong>Before <code>mask</code>:</strong></p>
<p><img alt="before mask" src="../build/mask_example_before.png"></p>
<p><strong>After <code>mask</code>:</strong></p>
<p><img alt="after mask" src="../build/mask_example_after.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/mask.jl#L2-L62" class="documenter-source">source</a><br></p>
<p><a id="Rasters.missingmask-Tuple{AbstractRasterSeries}" href="#Rasters.missingmask-Tuple%7BAbstractRasterSeries%7D">#</a>
<strong><code>Rasters.missingmask</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">missingmask</span><span class="p">(</span><span class="n">obj</span><span class="o">::</span><span class="kt">Raster</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
<span class="n">missingmask</span><span class="p">(</span><span class="n">obj</span><span class="p">;</span><span class="w"> </span><span class="p">[</span><span class="n">to</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">collapse</span><span class="p">])</span>
</code></pre></div>
<p>Create a mask array of <code>missing</code> and <code>true</code> values, from another <code>Raster</code>. <code>AbstractRasterStack</code> or <code>AbstractRasterSeries</code> are also accepted, but a mask is taken of the first layer or object <em>not</em> all of them.</p>
<p>For <a href="./#Rasters.AbstractRaster"><code>AbstractRaster</code></a> the default <code>missingval</code> is <code>missingval(A)</code>, but others can be chosen manually.</p>
<p>The array returned from calling <code>missingmask</code> on a <code>AbstractRaster</code> is a <a href="./#Rasters.Raster"><code>Raster</code></a> with the same size and fields as the original array.</p>
<p><strong>Keywords</strong></p>
<ul>
<li><code>to</code>: a <code>Raster</code>, <code>RasterStack</code>, <code>Tuple</code> of <code>Dimension</code> or <code>Extents.Extent</code>.   If no <code>to</code> object is provided the extent will be calculated from the geometries,   Additionally, when no <code>to</code> object or an <code>Extent</code> is passed for <code>to</code>, the <code>size</code>   or <code>res</code> keyword must also be used.</li>
<li><code>res</code>: the resolution of the dimensions, a <code>Real</code> or <code>Tuple{&lt;:Real,&lt;:Real}</code>.   Only required when <code>to</code> is not used or is an <code>Extents.Extent</code>, and <code>size</code> is not used.</li>
<li><code>size</code>: the size of the output array, as a <code>Tuple{Int,Int}</code> or single <code>Int</code> for a square.   Only required when <code>to</code> is not used or is an <code>Extents.Extent</code>, and <code>res</code> is not used.</li>
<li><code>crs</code>: a <code>crs</code> which will be attached to the resulting raster when <code>to</code> not passed  or is an <code>Extent</code>. Otherwise the crs from <code>to</code> is used.</li>
<li><code>shape</code>: Force <code>data</code> to be treated as <code>:polygon</code>, <code>:line</code> or <code>:point</code> geometries.   using points or lines as polygons may have unexpected results.</li>
<li><code>boundary</code>: for polygons, include pixels where the <code>:center</code> is inside the polygon,   where the polygon <code>:touches</code> the pixel, or that are completely <code>:inside</code> the polygon.   The default is <code>:center</code>.</li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span><span class="p">,</span><span class="w"> </span><span class="n">Dates</span>
<span class="n">wc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">Climate</span><span class="p">},</span><span class="w"> </span><span class="ss">:prec</span><span class="p">;</span><span class="w"> </span><span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">missingmask</span><span class="p">(</span><span class="n">wc</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">plot</span>

<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/missingmask_example.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>

<span class="c"># output</span>
</code></pre></div>
<p><img alt="missingmask" src="../build/missingmask_example.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/mask.jl#L290-L323" class="documenter-source">source</a><br></p>
<p><a id="Rasters.missingval" href="#Rasters.missingval">#</a>
<strong><code>Rasters.missingval</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">missingval</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>
<p>Returns the value representing missing data in the dataset</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/array.jl#L22-L26" class="documenter-source">source</a><br></p>
<p><a id="Rasters.mosaic!-Tuple{Function, Union{AbstractRaster, AbstractRasterStack}, Vararg{Union{AbstractRaster, AbstractRasterStack}}}" href="#Rasters.mosaic!-Tuple%7BFunction,%20Union%7BAbstractRaster,%20AbstractRasterStack%7D,%20Vararg%7BUnion%7BAbstractRaster,%20AbstractRasterStack%7D%7D%7D">#</a>
<strong><code>Rasters.mosaic!</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">mosaic!</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">regions</span><span class="o">...</span><span class="p">;</span><span class="w"> </span><span class="n">missingval</span><span class="p">,</span><span class="w"> </span><span class="n">atol</span><span class="p">)</span>
<span class="n">mosaic!</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">regions</span><span class="o">::</span><span class="kt">Tuple</span><span class="p">;</span><span class="w"> </span><span class="n">missingval</span><span class="p">,</span><span class="w"> </span><span class="n">atol</span><span class="p">)</span>
</code></pre></div>
<p>Combine <code>regions</code> in <code>x</code> using the function <code>f</code>.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>f</code> a function (e.g. <code>mean</code>, <code>sum</code>, <code>first</code> or <code>last</code>) that is applied to   values where <code>regions</code> overlap.</li>
<li><code>x</code>: A <code>Raster</code> or <code>RasterStack</code>. May be a an opened disk-based <code>Raster</code>,   the result will be written to disk.   With the current algorithm, the read speed is slow.</li>
<li><code>regions</code>: source objects to be joined. These should be memory-backed   (use <code>read</code> first), or may experience poor performance. If all objects have   the same extent, <code>mosaic</code> is simply a merge.</li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>missingval</code>: Fills empty areas, and defualts to the `missingval/   of the first layer.</li>
<li><code>atol</code>: Absolute tolerance for comparison between index values.   This is often required due to minor differences in range values   due to floating point error. It is not applied to non-float dimensions.   A tuple of tolerances may be passed, matching the dimension order.</li>
</ul>
<p><strong>Example</strong></p>
<p>Cut out Australia and Africa stacks, then combined them into a single stack.</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">Statistics</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span>
<span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">read</span><span class="p">(</span><span class="n">RasterStack</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">Climate</span><span class="p">};</span><span class="w"> </span><span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="n">aus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">st</span><span class="p">[</span><span class="n">X</span><span class="o">=</span><span class="mf">100.0</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="mf">160.0</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="o">=-</span><span class="mf">50.0</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="o">-</span><span class="mf">10.0</span><span class="p">]</span>
<span class="n">africa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">st</span><span class="p">[</span><span class="n">X</span><span class="o">=-</span><span class="mf">20.0</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="mf">60.0</span><span class="p">,</span><span class="w"> </span><span class="n">Y</span><span class="o">=-</span><span class="mf">40.0</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="mf">35.0</span><span class="p">]</span>
<span class="n">mosaic!</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="w"> </span><span class="n">st</span><span class="p">,</span><span class="w"> </span><span class="n">aus</span><span class="p">,</span><span class="w"> </span><span class="n">africa</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">st</span><span class="p">)</span>
<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/mosaic_bang_example.png"</span><span class="p">)</span>
<span class="nb">nothing</span>
<span class="c"># output</span>
</code></pre></div>
<p><img alt="mosaic" src="../build/mosaic_bang_example.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/mosaic.jl#L90-L137" class="documenter-source">source</a><br></p>
<p><a id="Rasters.mosaic-Tuple{Function, Union{AbstractRaster, AbstractRasterStack}, Vararg{Union{AbstractRaster, AbstractRasterStack}}}" href="#Rasters.mosaic-Tuple%7BFunction,%20Union%7BAbstractRaster,%20AbstractRasterStack%7D,%20Vararg%7BUnion%7BAbstractRaster,%20AbstractRasterStack%7D%7D%7D">#</a>
<strong><code>Rasters.mosaic</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">mosaic</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">regions</span><span class="o">...</span><span class="p">;</span><span class="w"> </span><span class="n">missingval</span><span class="p">,</span><span class="w"> </span><span class="n">atol</span><span class="p">)</span>
<span class="n">mosaic</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">regions</span><span class="p">;</span><span class="w"> </span><span class="n">missingval</span><span class="p">,</span><span class="w"> </span><span class="n">atol</span><span class="p">)</span>
</code></pre></div>
<p>Combine <code>regions</code> into a single raster.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>f</code>: A reducing function (<code>mean</code>, <code>sum</code>, <code>first</code>, <code>last</code> etc.)   for values where <code>regions</code> overlap.</li>
<li><code>regions</code>: Iterable or splatted <code>Raster</code> or <code>RasterStack</code>.</li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>missingval</code>: Fills empty areas, and defualts to the   <code>missingval</code> of the first region.</li>
<li><code>atol</code>: Absolute tolerance for comparison between index values.   This is often required due to minor differences in range values   due to floating point error. It is not applied to non-float dimensions.   A tuple of tolerances may be passed, matching the dimension order.</li>
<li><code>filename</code>: a filename to write to directly, useful for large files.</li>
<li><code>suffix</code>: a string or value to append to the filename.   A tuple of <code>suffix</code> will be applied to stack layers. <code>keys(stack)</code> are the default.</li>
</ul>
<p>If your mosaic has has apparent line errors, increase the <code>atol</code> value.</p>
<p><strong>Example</strong></p>
<p>Here we cut out Australia and Africa from a stack, and join them with <code>mosaic</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span>
<span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RasterStack</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">Climate</span><span class="p">};</span><span class="w"> </span><span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>

<span class="n">africa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">st</span><span class="p">[</span><span class="n">X</span><span class="p">(</span><span class="o">-</span><span class="mf">20.0</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="mf">60.0</span><span class="p">),</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="o">-</span><span class="mf">40.0</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="mf">35.0</span><span class="p">)]</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">africa</span><span class="p">)</span>

<span class="n">aus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">st</span><span class="p">[</span><span class="n">X</span><span class="p">(</span><span class="mf">100.0</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="mf">160.0</span><span class="p">),</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="o">-</span><span class="mf">50.0</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="o">-</span><span class="mf">10.0</span><span class="p">)]</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">aus</span><span class="p">)</span>

<span class="c"># Combine with mosaic</span>
<span class="n">mos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mosaic</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="w"> </span><span class="n">aus</span><span class="p">,</span><span class="w"> </span><span class="n">africa</span><span class="p">)</span>
<span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">mos</span><span class="p">)</span>

<span class="n">savefig</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="s">"docs/build/mosaic_example_africa.png"</span><span class="p">)</span>
<span class="n">savefig</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="s">"docs/build/mosaic_example_aus.png"</span><span class="p">)</span>
<span class="n">savefig</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="s">"docs/build/mosaic_example_combined.png"</span><span class="p">)</span>
<span class="nb">nothing</span>
<span class="c"># output</span>
</code></pre></div>
<p><strong>Individual continents</strong></p>
<p><img alt="arica" src="../build/mosaic_example_africa.png"></p>
<p><img alt="aus" src="../build/mosaic_example_aus.png"></p>
<p><strong>Mosaic of continents</strong></p>
<p><img alt="mosaic" src="../build/mosaic_example_combined.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/mosaic.jl#L1-L63" class="documenter-source">source</a><br></p>
<p><a id="Rasters.points-Tuple{AbstractRaster}" href="#Rasters.points-Tuple%7BAbstractRaster%7D">#</a>
<strong><code>Rasters.points</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">points</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">;</span><span class="w"> </span><span class="n">dims</span><span class="o">=</span><span class="p">(</span><span class="n">YDim</span><span class="p">,</span><span class="w"> </span><span class="n">XDim</span><span class="p">),</span><span class="w"> </span><span class="n">ignore_missing</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="kt">Array</span><span class="p">{</span><span class="kt">Tuple</span><span class="p">}</span>
</code></pre></div>
<p>Returns a generator of the points in <code>A</code> for dimensions in <code>dims</code>, where points are a tuple of the values in each specified dimension index.</p>
<p><strong>Keywords</strong></p>
<ul>
<li><code>dims</code> the dimensions to return points from. The first slice of other   layers will be used.</li>
<li><code>ignore_missing</code>: wether to ignore missing values in the array when considering   points. If <code>true</code>, all points in the dimensions will be returned, if <code>false</code>   only the points that are not <code>=== missingval(A)</code> will be returned.</li>
</ul>
<p>The order of <code>dims</code> determines the order of the points.</p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/points.jl#L1-L19" class="documenter-source">source</a><br></p>
<p><a id="Rasters.rasterize" href="#Rasters.rasterize">#</a>
<strong><code>Rasters.rasterize</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">rasterize</span><span class="p">([</span><span class="n">reducer</span><span class="p">],</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Rasterize a GeoInterface.jl compatable geometry or feature, or a Tables.jl table with a <code>:geometry</code> column of GeoInterface.jl objects, or <code>X</code>, <code>Y</code> points columns.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>reducer</code>: a reducing function to reduce the fill value for all geometries that   cover or touch a pixel down to a single value. The default is <code>last</code>.   Any  that takes an iterable and returns a single value will work, including   custom functions. However, there are optimisations for built-in methods   including <code>sum</code>, <code>first</code>, <code>last</code>, <code>minimum</code>, <code>maximum</code>, <code>extrema</code> and <code>Statistics.mean</code>.   These may be an order of magnitude or more faster than   <code>count</code> is a special-cased as it does not need a fill value.</li>
<li><code>data</code>: a GeoInterface.jl <code>AbstractGeometry</code>, or a nested <code>Vector</code> of <code>AbstractGeometry</code>,   or a Tables.jl compatible object containing a <code>:geometry</code> column or points and values columns.</li>
</ul>
<p><strong>Keywords</strong></p>
<p>These are detected automatically from <code>data</code> where possible.</p>
<ul>
<li><code>to</code>: a <code>Raster</code>, <code>RasterStack</code>, <code>Tuple</code> of <code>Dimension</code> or <code>Extents.Extent</code>.   If no <code>to</code> object is provided the extent will be calculated from the geometries,   Additionally, when no <code>to</code> object or an <code>Extent</code> is passed for <code>to</code>, the <code>size</code>   or <code>res</code> keyword must also be used.</li>
<li><code>res</code>: the resolution of the dimensions, a <code>Real</code> or <code>Tuple{&lt;:Real,&lt;:Real}</code>.   Only required when <code>to</code> is not used or is an <code>Extents.Extent</code>, and <code>size</code> is not used.</li>
<li><code>size</code>: the size of the output array, as a <code>Tuple{Int,Int}</code> or single <code>Int</code> for a square.   Only required when <code>to</code> is not used or is an <code>Extents.Extent</code>, and <code>res</code> is not used.</li>
<li><code>crs</code>: a <code>crs</code> which will be attached to the resulting raster when <code>to</code> not passed  or is an <code>Extent</code>. Otherwise the crs from <code>to</code> is used.</li>
<li><code>shape</code>: Force <code>data</code> to be treated as <code>:polygon</code>, <code>:line</code> or <code>:point</code> geometries.   using points or lines as polygons may have unexpected results.</li>
<li>
<p><code>boundary</code>: for polygons, include pixels where the <code>:center</code> is inside the polygon,   where the polygon <code>:touches</code> the pixel, or that are completely <code>:inside</code> the polygon.   The default is <code>:center</code>.</p>
</li>
<li>
<p><code>fill</code>: the value or values to fill a polygon with. A <code>Symbol</code> or tuple of <code>Symbol</code> will   be used to retrieve properties from features or column values from table rows. An array   or other iterable will be used for each geometry, in order. <code>fill</code> can also be a function of    the current value, e.g. <code>x -&gt; x + 1</code>.</p>
</li>
<li><code>op</code>: A reducing function that accepts two values and returns one, like <code>min</code> to <code>minimum</code>.   For common methods this will be assigned for you, or is not required. But you can use it   instead of a <code>reducer</code> as it will usually be faster.</li>
<li><code>shape</code>: force <code>data</code> to be treated as <code>:polygon</code>, <code>:line</code> or <code>:point</code>, where possible   Points can't be treated as lines or polygons, and lines may not work as polygons, but   an attempt will be made.</li>
<li><code>geometrycolumn</code>: <code>Symbol</code> to manually select the column the geometries are in   when <code>data</code> is a Tables.jl compatible table, or a tuple of <code>Symbol</code> for columns of   point coordinates.</li>
<li><code>progress</code>: show a progress bar, <code>true</code> by default, <code>false</code> to hide..</li>
<li><code>verbose</code>: print information and warnings whne there are problems with the rasterisation.   <code>true</code> by default.</li>
<li>
<p><code>threaded</code>: run operations in parallel, <code>false</code> by default. In some circumstances <code>threaded</code>    can give large speedups over single-threaded operation. This can be true for complicated    geometries written into low-resolution rasters, but may not be for simple geometries with    high-resolution rasters. With very large rasters threading may be counter productive due    to excessing memory use. Caution should also be used: <code>threaded</code> should not be used in in-place    functions wrinting to <code>BitArray</code> or other arrays where race conditions can occur.</p>
</li>
<li>
<p><code>filename</code>: a filename to write to directly, useful for large files.</p>
</li>
<li><code>suffix</code>: a string or value to append to the filename.   A tuple of <code>suffix</code> will be applied to stack layers. <code>keys(stack)</code> are the default.</li>
</ul>
<p><strong>Example</strong></p>
<p>Rasterize a shapefile for China and plot, with a border.</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span><span class="p">,</span><span class="w"> </span><span class="n">Dates</span><span class="p">,</span><span class="w"> </span><span class="n">Shapefile</span><span class="p">,</span><span class="w"> </span><span class="n">Downloads</span>
<span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="o">.</span><span class="n">LookupArrays</span>

<span class="c"># Download a borders shapefile</span>
<span class="n">shapefile_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"https://github.com/nvkelso/natural-earth-vector/raw/master/10m_cultural/ne_10m_admin_0_countries.shp"</span>
<span class="n">shapefile_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"country_borders.shp"</span>
<span class="n">isfile</span><span class="p">(</span><span class="n">shapefile_name</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">Downloads</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">shapefile_url</span><span class="p">,</span><span class="w"> </span><span class="n">shapefile_name</span><span class="p">)</span>

<span class="c"># Load the shapes for china</span>
<span class="n">china_border</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Shapefile</span><span class="o">.</span><span class="n">Handle</span><span class="p">(</span><span class="n">shapefile_name</span><span class="p">)</span><span class="o">.</span><span class="n">shapes</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>

<span class="c"># Rasterize the border polygon</span>
<span class="n">china</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rasterize</span><span class="p">(</span><span class="n">last</span><span class="p">,</span><span class="w"> </span><span class="n">china_border</span><span class="p">;</span><span class="w"> </span><span class="n">res</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span><span class="w"> </span><span class="n">missingval</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">boundary</span><span class="o">=</span><span class="ss">:touches</span><span class="p">,</span><span class="w"> </span><span class="n">progress</span><span class="o">=</span><span class="nb">false</span><span class="p">)</span>

<span class="c"># And plot</span>
<span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">china</span><span class="p">;</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="ss">:spring</span><span class="p">,</span><span class="w"> </span><span class="n">legend</span><span class="o">=</span><span class="nb">false</span><span class="p">)</span>
<span class="n">plot!</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">china_border</span><span class="p">;</span><span class="w"> </span><span class="n">fillalpha</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>

<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/china_rasterized.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>

<span class="c"># output</span>
</code></pre></div>
<p><img alt="rasterize" src="../build/china_rasterized.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/rasterize.jl#L341-L393" class="documenter-source">source</a><br></p>
<p><a id="Rasters.rasterize!" href="#Rasters.rasterize!">#</a>
<strong><code>Rasters.rasterize!</code></strong> — <em>Function</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">rasterize!</span><span class="p">([</span><span class="n">reducer</span><span class="p">],</span><span class="w"> </span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Rasterize the geometries in <code>data</code> into the <a href="./#Rasters.Raster"><code>Raster</code></a> or <a href="./#Rasters.RasterStack"><code>RasterStack</code></a> <code>dest</code>, using the values specified by <code>fill</code>.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>dest</code>: a <code>Raster</code> or <code>RasterStack</code> to rasterize into.</li>
<li><code>reducer</code>: a reducing function to reduce the fill value for all geometries that   cover or touch a pixel down to a single value. The default is <code>last</code>.   Any  that takes an iterable and returns a single value will work, including   custom functions. However, there are optimisations for built-in methods   including <code>sum</code>, <code>first</code>, <code>last</code>, <code>minimum</code>, <code>maximum</code>, <code>extrema</code> and <code>Statistics.mean</code>.   These may be an order of magnitude or more faster than   <code>count</code> is a special-cased as it does not need a fill value.</li>
<li><code>data</code>: a GeoInterface.jl <code>AbstractGeometry</code>, or a nested <code>Vector</code> of <code>AbstractGeometry</code>,   or a Tables.jl compatible object containing a <code>:geometry</code> column or points and values columns.</li>
</ul>
<p><strong>Keywords</strong></p>
<p>These are detected automatically from <code>A</code> and <code>data</code> where possible.</p>
<ul>
<li><code>fill</code>: the value or values to fill a polygon with. A <code>Symbol</code> or tuple of <code>Symbol</code> will   be used to retrieve properties from features or column values from table rows. An array   or other iterable will be used for each geometry, in order. <code>fill</code> can also be a function of    the current value, e.g. <code>x -&gt; x + 1</code>.</li>
<li><code>op</code>: A reducing function that accepts two values and returns one, like <code>min</code> to <code>minimum</code>.   For common methods this will be assigned for you, or is not required. But you can use it   instead of a <code>reducer</code> as it will usually be faster.</li>
<li><code>shape</code>: force <code>data</code> to be treated as <code>:polygon</code>, <code>:line</code> or <code>:point</code>, where possible   Points can't be treated as lines or polygons, and lines may not work as polygons, but   an attempt will be made.</li>
<li><code>geometrycolumn</code>: <code>Symbol</code> to manually select the column the geometries are in   when <code>data</code> is a Tables.jl compatible table, or a tuple of <code>Symbol</code> for columns of   point coordinates.</li>
<li><code>progress</code>: show a progress bar, <code>true</code> by default, <code>false</code> to hide..</li>
<li><code>verbose</code>: print information and warnings whne there are problems with the rasterisation.   <code>true</code> by default.</li>
<li>
<p><code>threaded</code>: run operations in parallel, <code>false</code> by default. In some circumstances <code>threaded</code>    can give large speedups over single-threaded operation. This can be true for complicated    geometries written into low-resolution rasters, but may not be for simple geometries with    high-resolution rasters. With very large rasters threading may be counter productive due    to excessing memory use. Caution should also be used: <code>threaded</code> should not be used in in-place    functions wrinting to <code>BitArray</code> or other arrays where race conditions can occur.</p>
</li>
<li>
<p><code>to</code>: a <code>Raster</code>, <code>RasterStack</code>, <code>Tuple</code> of <code>Dimension</code> or <code>Extents.Extent</code>.   If no <code>to</code> object is provided the extent will be calculated from the geometries,   Additionally, when no <code>to</code> object or an <code>Extent</code> is passed for <code>to</code>, the <code>size</code>   or <code>res</code> keyword must also be used.</p>
</li>
<li><code>res</code>: the resolution of the dimensions, a <code>Real</code> or <code>Tuple{&lt;:Real,&lt;:Real}</code>.   Only required when <code>to</code> is not used or is an <code>Extents.Extent</code>, and <code>size</code> is not used.</li>
<li><code>size</code>: the size of the output array, as a <code>Tuple{Int,Int}</code> or single <code>Int</code> for a square.   Only required when <code>to</code> is not used or is an <code>Extents.Extent</code>, and <code>res</code> is not used.</li>
<li><code>crs</code>: a <code>crs</code> which will be attached to the resulting raster when <code>to</code> not passed  or is an <code>Extent</code>. Otherwise the crs from <code>to</code> is used.</li>
<li><code>shape</code>: Force <code>data</code> to be treated as <code>:polygon</code>, <code>:line</code> or <code>:point</code> geometries.   using points or lines as polygons may have unexpected results.</li>
<li><code>boundary</code>: for polygons, include pixels where the <code>:center</code> is inside the polygon,   where the polygon <code>:touches</code> the pixel, or that are completely <code>:inside</code> the polygon.   The default is <code>:center</code>.</li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span><span class="p">,</span><span class="w"> </span><span class="n">Dates</span><span class="p">,</span><span class="w"> </span><span class="n">Shapefile</span><span class="p">,</span><span class="w"> </span><span class="n">GeoInterface</span><span class="p">,</span><span class="w"> </span><span class="n">Downloads</span>
<span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="o">.</span><span class="n">LookupArrays</span>

<span class="c"># Download a borders shapefile</span>
<span class="n">shapefile_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"https://github.com/nvkelso/natural-earth-vector/raw/master/10m_cultural/ne_10m_admin_0_countries.shp"</span>
<span class="n">shapefile_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"country_borders.shp"</span>
<span class="n">isfile</span><span class="p">(</span><span class="n">shapefile_name</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">Downloads</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">shapefile_url</span><span class="p">,</span><span class="w"> </span><span class="n">shapefile_name</span><span class="p">)</span>

<span class="c"># Load the shapes for indonesia</span>
<span class="n">indonesia_border</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Shapefile</span><span class="o">.</span><span class="n">Handle</span><span class="p">(</span><span class="n">shapefile_name</span><span class="p">)</span><span class="o">.</span><span class="n">shapes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="c"># Make an empty EPSG 4326 projected Raster of the area of Indonesia</span>
<span class="n">dimz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="n">Projected</span><span class="p">(</span><span class="mf">90.0</span><span class="o">:</span><span class="mf">0.1</span><span class="o">:</span><span class="mi">145</span><span class="p">;</span><span class="w"> </span><span class="n">sampling</span><span class="o">=</span><span class="n">Intervals</span><span class="p">(),</span><span class="w"> </span><span class="n">crs</span><span class="o">=</span><span class="n">EPSG</span><span class="p">(</span><span class="mi">4326</span><span class="p">))),</span>
<span class="w">       </span><span class="n">Y</span><span class="p">(</span><span class="n">Projected</span><span class="p">(</span><span class="o">-</span><span class="mf">15.0</span><span class="o">:</span><span class="mf">0.1</span><span class="o">:</span><span class="mf">10.9</span><span class="p">;</span><span class="w"> </span><span class="n">sampling</span><span class="o">=</span><span class="n">Intervals</span><span class="p">(),</span><span class="w"> </span><span class="n">crs</span><span class="o">=</span><span class="n">EPSG</span><span class="p">(</span><span class="mi">4326</span><span class="p">)))</span>

<span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">zeros</span><span class="p">(</span><span class="kt">UInt32</span><span class="p">,</span><span class="w"> </span><span class="n">dimz</span><span class="p">;</span><span class="w"> </span><span class="n">missingval</span><span class="o">=</span><span class="kt">UInt32</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

<span class="c"># Rasterize each indonesian island with a different number. The islands are</span>
<span class="c"># rings of a multi-polygon, so we use `GI.getring` to get them all separately.</span>
<span class="n">islands</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collect</span><span class="p">(</span><span class="n">GeoInterface</span><span class="o">.</span><span class="n">getring</span><span class="p">(</span><span class="n">indonesia_border</span><span class="p">))</span>
<span class="n">rasterize!</span><span class="p">(</span><span class="n">last</span><span class="p">,</span><span class="w"> </span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">islands</span><span class="p">;</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="mi">1</span><span class="o">:</span><span class="n">length</span><span class="p">(</span><span class="n">islands</span><span class="p">),</span><span class="w"> </span><span class="n">progress</span><span class="o">=</span><span class="nb">false</span><span class="p">)</span>

<span class="c"># And plot</span>
<span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">Rasters</span><span class="o">.</span><span class="n">trim</span><span class="p">(</span><span class="n">A</span><span class="p">);</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="ss">:spring</span><span class="p">)</span>
<span class="n">plot!</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">indonesia_border</span><span class="p">;</span><span class="w"> </span><span class="n">fillalpha</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">linewidth</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="n">savefig</span><span class="p">(</span><span class="s">"docs/build/indonesia_rasterized.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>

<span class="c"># output</span>
</code></pre></div>
<p><img alt="rasterize" src="../build/indonesia_rasterized.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/rasterize.jl#L479-L535" class="documenter-source">source</a><br></p>
<p><a id="Rasters.replace_missing-Tuple{Any}" href="#Rasters.replace_missing-Tuple%7BAny%7D">#</a>
<strong><code>Rasters.replace_missing</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">replace_missing</span><span class="p">(</span><span class="n">a</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">,</span><span class="w"> </span><span class="n">newmissingval</span><span class="p">)</span>
<span class="n">replace_missing</span><span class="p">(</span><span class="n">a</span><span class="o">::</span><span class="kt">AbstractRasterStack</span><span class="p">,</span><span class="w"> </span><span class="n">newmissingval</span><span class="p">)</span>
</code></pre></div>
<p>Replace missing values in the array or stack with a new missing value, also updating the <code>missingval</code> field/s.</p>
<p><strong>Keywords</strong></p>
<ul>
<li><code>filename</code>: a filename to write to directly, useful for large files.</li>
<li><code>suffix</code>: a string or value to append to the filename.   A tuple of <code>suffix</code> will be applied to stack layers. <code>keys(stack)</code> are the default.</li>
</ul>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">ArchGDAL</span>
<span class="n">A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Raster</span><span class="p">(</span><span class="kt">WorldClim</span><span class="p">{</span><span class="kt">Climate</span><span class="p">},</span><span class="w"> </span><span class="ss">:prec</span><span class="p">;</span><span class="w"> </span><span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">replace_missing</span>
<span class="n">missingval</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="c"># output</span>
<span class="nb">missing</span>
</code></pre></div>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/replace_missing.jl#L1-L23" class="documenter-source">source</a><br></p>
<p><a id="Rasters.reproject-NTuple{4, Any}" href="#Rasters.reproject-NTuple%7B4,%20Any%7D">#</a>
<strong><code>Rasters.reproject</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">reproject</span><span class="p">(</span><span class="n">source</span><span class="o">::</span><span class="kt">GeoFormat</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="o">::</span><span class="kt">GeoFormat</span><span class="p">,</span><span class="w"> </span><span class="n">dim</span><span class="o">::</span><span class="kt">Dimension</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">)</span>
</code></pre></div>
<p><code>reproject</code> uses ArchGDAL.reproject, but implemented for a reprojecting a value array of values, a single dimension at a time.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/reproject.jl#L40-L45" class="documenter-source">source</a><br></p>
<p><a id="Rasters.reproject-Tuple{Any}" href="#Rasters.reproject-Tuple%7BAny%7D">#</a>
<strong><code>Rasters.reproject</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">reproject</span><span class="p">(</span><span class="n">obj</span><span class="p">;</span><span class="w"> </span><span class="n">crs</span><span class="p">)</span>
</code></pre></div>
<p>Reproject the lookups of <code>obj</code> to a different crs. </p>
<p>This is a lossless operation for the raster data, as only the  lookup values change. This is only possible when the axes of source and destination projections are alligned: the change is usually from a <a href="@ref"><code>Regular</code></a> and an <a href="@ref"><code>Irregular</code></a> lookup spans.</p>
<p>For converting between projections that are rotated,  skewed or warped in any way, use <a href="@ref"><code>resample</code></a>.</p>
<p>Dimensions without an <code>AbstractProjected</code> lookup (such as a <code>Ti</code> dimension) are silently returned without modification.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>obj</code>: a <code>LookupArray</code>, <code>Dimension</code>, <code>Tuple</code> of <code>Dimension</code>, <code>Raster</code> or <code>RasterStack</code>.</li>
<li><code>crs</code>: a <code>crs</code> which will be attached to the resulting raster when <code>to</code> not passed  or is an <code>Extent</code>. Otherwise the crs from <code>to</code> is used.</li>
</ul>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/reproject.jl#L2-L22" class="documenter-source">source</a><br></p>
<p><a id="Rasters.setcrs-Tuple{Tuple{Dimension, Vararg{Dimension}}, Any}" href="#Rasters.setcrs-Tuple%7BTuple%7BDimension,%20Vararg%7BDimension%7D%7D,%20Any%7D">#</a>
<strong><code>Rasters.setcrs</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">setcrs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">crs</span><span class="p">)</span>
</code></pre></div>
<p>Set the crs of a <code>Raster</code>, <code>RasterStack</code>, <code>Tuple</code> of <code>Dimension</code>, or a <code>Dimension</code>. The <code>crs</code> is expected to be a GeoFormatTypes.jl <code>CRS</code> or <code>Mixed</code> <code>GeoFormat</code> type</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/lookup.jl#L198-L203" class="documenter-source">source</a><br></p>
<p><a id="Rasters.setmappedcrs-Tuple{Tuple{Dimension, Vararg{Dimension}}, Any}" href="#Rasters.setmappedcrs-Tuple%7BTuple%7BDimension,%20Vararg%7BDimension%7D%7D,%20Any%7D">#</a>
<strong><code>Rasters.setmappedcrs</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">setmappedcrs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">crs</span><span class="p">)</span>
</code></pre></div>
<p>Set the mapped crs of a <code>Raster</code>, a <code>RasterStack</code>, a <code>Tuple</code> of <code>Dimension</code>, or a <code>Dimension</code>. The <code>crs</code> is expected to be a GeoFormatTypes.jl <code>CRS</code> or <code>Mixed</code> <code>GeoFormat</code> type</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/lookup.jl#L214-L220" class="documenter-source">source</a><br></p>
<p><a id="Rasters.slice-Tuple{Union{AbstractRaster, AbstractRasterStack}, Any}" href="#Rasters.slice-Tuple%7BUnion%7BAbstractRaster,%20AbstractRasterStack%7D,%20Any%7D">#</a>
<strong><code>Rasters.slice</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">slice</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="kt">Union</span><span class="p">{</span><span class="kt">AbstractRaster</span><span class="p">,</span><span class="kt">AbstractRasterStack</span><span class="p">,</span><span class="kt">AbstracRasterSeries</span><span class="p">},</span><span class="w"> </span><span class="n">dims</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">RasterSeries</span>
</code></pre></div>
<p>Slice views along some dimension/s to obtain a <code>RasterSeries</code> of the slices.</p>
<p>For a <code>Raster</code> or <code>RasterStack</code> this will return a <code>RasterSeries</code> of <code>Raster</code> or <code>RasterStack</code> that are slices along the specified dimensions.</p>
<p>For a <code>RasterSeries</code>, the output is another series where the child objects are sliced and the series dimensions index is now of the child dimensions combined. <code>slice</code> on a <code>RasterSeries</code> with no dimensions will slice along the dimensions shared by both the series and child object.</p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/slice_combine.jl#L1-L14" class="documenter-source">source</a><br></p>
<p><a id="Rasters.trim-Tuple{Union{AbstractRaster, AbstractRasterStack}}" href="#Rasters.trim-Tuple%7BUnion%7BAbstractRaster,%20AbstractRasterStack%7D%7D">#</a>
<strong><code>Rasters.trim</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">trim</span><span class="p">(</span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="n">dims</span><span class="o">::</span><span class="kt">Tuple</span><span class="p">,</span><span class="w"> </span><span class="n">pad</span><span class="o">::</span><span class="kt">Int</span><span class="p">)</span>
</code></pre></div>
<p>Trim <code>missingval(x)</code> from <code>x</code> for axes in <code>dims</code>, returning a view of <code>x</code>.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>x</code>: A <code>Raster</code> or <code>RasterStack</code>. For stacks, all layers must having   missing values for a pixel for it to be trimmed.</li>
</ul>
<p><strong>Keywords</strong></p>
<ul>
<li><code>dims</code>: By default <code>dims=(XDim, YDim)</code>, so that trimming keeps the area    of <code>X</code> and <code>Y</code> that contains non-missing values along all other dimensions.</li>
<li><code>pad</code>: The trimmed size will be padded by <code>pad</code> on all sides, although   padding will not be added beyond the original extent of the array.</li>
</ul>
<p>As <code>trim</code> is lazy, <code>filename</code> and <code>suffix</code> keywords are not used.</p>
<p><strong>Example</strong></p>
<p>Create trimmed layers of Australian habitat heterogeneity.</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="n">Rasters</span><span class="p">,</span><span class="w"> </span><span class="n">RasterDataSources</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span>
<span class="n">layers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="ss">:evenness</span><span class="p">,</span><span class="w"> </span><span class="ss">:range</span><span class="p">,</span><span class="w"> </span><span class="ss">:contrast</span><span class="p">,</span><span class="w"> </span><span class="ss">:correlation</span><span class="p">)</span>
<span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RasterStack</span><span class="p">(</span><span class="kt">EarthEnv</span><span class="p">{</span><span class="kt">HabitatHeterogeneity</span><span class="p">},</span><span class="w"> </span><span class="n">layers</span><span class="p">)</span>

<span class="c"># Roughly cut out australia</span>
<span class="n">ausbounds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">X</span><span class="p">(</span><span class="mi">100</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="mi">160</span><span class="p">),</span><span class="w"> </span><span class="n">Y</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
<span class="n">aus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">st</span><span class="p">[</span><span class="n">ausbounds</span><span class="o">...</span><span class="p">]</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">aus</span><span class="p">)</span>

<span class="c"># Trim missing values and plot</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">plot</span><span class="p">(</span><span class="n">trim</span><span class="p">(</span><span class="n">aus</span><span class="p">))</span>

<span class="n">savefig</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="s">"docs/build/trim_example_before.png"</span><span class="p">);</span>
<span class="n">savefig</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="s">"docs/build/trim_example_after.png"</span><span class="p">);</span><span class="w"> </span><span class="nb">nothing</span>

<span class="c"># output</span>
</code></pre></div>
<p><strong>Before <code>trim</code>:</strong></p>
<p><img alt="before trim" src="../build/trim_example_before.png"></p>
<p><strong>After <code>trim</code>:</strong></p>
<p><img alt="after trim" src="../build/trim_example_after.png"></p>
<p>WARNING: This feature is experimental. It may change in future versions, and may not be 100% reliable in all cases. Please file github issues if problems occur.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/trim.jl#L1-L53" class="documenter-source">source</a><br></p>
<p><a id="Rasters.zonal-Tuple{Any, Union{AbstractRaster, AbstractRasterStack}}" href="#Rasters.zonal-Tuple%7BAny,%20Union%7BAbstractRaster,%20AbstractRasterStack%7D%7D">#</a>
<strong><code>Rasters.zonal</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">zonal</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">::</span><span class="kt">Union</span><span class="p">{</span><span class="kt">Raster</span><span class="p">,</span><span class="kt">RasterStack</span><span class="p">};</span><span class="w"> </span><span class="n">of</span><span class="p">,</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Calculate zonal statistics for the the zone of a <code>Raster</code> or <code>RasterStack</code> covered by the <code>of</code> object/s.</p>
<p><strong>Arguments</strong></p>
<ul>
<li><code>f</code>: any function that reduces an iterable to a single value, such as <code>sum</code> or <code>Statistics.mean</code></li>
<li><code>x</code>: A <code>Raster</code> or <code>RasterStack</code></li>
<li><code>of</code>: A <code>Raster</code>, <code>RasterStack</code>, dim tuple, extent, GeoInterface.jl compatible geometry,   Tables.jl compatible table of a <code>:geometry</code> column, or an <code>AbstractVector</code> of   any of these objects..</li>
</ul>
<p><strong>Keywords</strong></p>
<p>These can be used when <code>of</code> is a GeoInterface.jl compatible object:</p>
<ul>
<li><code>shape</code>: Force <code>data</code> to be treated as <code>:polygon</code>, <code>:line</code> or <code>:point</code>, where possible.</li>
<li><code>boundary</code>: for polygons, include pixels where the <code>:center</code> is inside the polygon,   where the line <code>:touches</code> the pixel, or that are completely <code>:inside</code> inside the polygon.   The default is <code>:center</code>.</li>
<li><code>progress</code>: show a progress bar, <code>true</code> by default, <code>false</code> to hide..</li>
</ul>
<p><strong>Example</strong></p>
<p>``jldoctest using Rasters, RasterDataSources, ArchGDAL, Shapefile, DataFrames, Downloads, Statistics, Dates</p>
<p><strong>Download a borders shapefile</strong></p>
<p>ne<em>url = "https://github.com/nvkelso/natural-earth-vector/raw/master/10m</em>cultural/ne<em>10m</em>admin<em>0</em>countries" shp<em>url, dbf</em>url  = ne<em>url * ".shp", ne</em>url * ".dbf" shp<em>name, dbf</em>name = "country<em>borders.shp", "country</em>borders.dbf" isfile(shp<em>name) || Downloads.download(shp</em>url, shp<em>name) isfile(dbf</em>url) || Downloads.download(dbf<em>url, dbf</em>name)</p>
<p><strong>Download and read a raster stack from WorldClim</strong></p>
<p>st = RasterStack(WorldClim{Climate}; month=Jan, lazy=false)</p>
<p><strong>Load the shapes for world countries</strong></p>
<p>countries = Shapefile.Table(shp_name) |&gt; DataFrame</p>
<p><strong>Calculate the january mean of all climate variables for all countries</strong></p>
<p>january_stats = zonal(mean, st; of=countries, boundary=:touches, progress=false) |&gt; DataFrame</p>
<p><strong>Add the country name column (natural earth has some string errors it seems)</strong></p>
<p>insertcols!(january_stats, 1, :country =&gt; first.(split.(countries.ADMIN, r"[^A-Za-z ]")))</p>
<p><strong>output</strong></p>
<p>258×8 DataFrame  Row │ country                       tmin       tmax       tavg       prec     ⋯      │ SubStrin…                     Float32    Float32    Float32    Float64  ⋯ ─────┼──────────────────────────────────────────────────────────────────────────    1 │ Indonesia                      21.5447    29.1864    25.3656   271.063  ⋯    2 │ Malaysia                       21.3087    28.4291    24.8688   273.381    3 │ Chile                           7.24534   17.9263    12.5858    78.1287    4 │ Bolivia                        17.2065    27.7454    22.4759   192.542    5 │ Peru                           15.0273    25.5504    20.2888   180.007  ⋯    6 │ Argentina                      13.6751    27.6715    20.6732    67.1837    7 │ Dhekelia Sovereign Base Area    5.87126   15.8991    10.8868    76.25    8 │ Cyprus                          5.65921   14.6665    10.1622    97.4474   ⋮  │              ⋮                    ⋮          ⋮          ⋮         ⋮     ⋱  252 │ Spratly Islands                25.0       29.2       27.05      70.5    ⋯  253 │ Clipperton Island              21.5       33.2727    27.4        6.0  254 │ Macao S                        11.6694    17.7288    14.6988    28.0  255 │ Ashmore and Cartier Islands   NaN        NaN        NaN        NaN  256 │ Bajo Nuevo Bank               NaN        NaN        NaN        NaN      ⋯  257 │ Serranilla Bank               NaN        NaN        NaN        NaN  258 │ Scarborough Reef              NaN        NaN        NaN        NaN                                                   3 columns and 243 rows omitted ```</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/methods/zonal.jl#L1-L72" class="documenter-source">source</a><br></p>
<p><a id="Reference-Internal-functions"></a></p>
<p><a id="Reference-Internal-functions-1"></a></p>
<h2 id="reference-internal-functions">Reference - Internal functions<a class="headerlink" href="#reference-internal-functions" title="Permanent link">¤</a></h2>
<p><a id="Rasters.AbstractProjected" href="#Rasters.AbstractProjected">#</a>
<strong><code>Rasters.AbstractProjected</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">AbstractProjected</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">AbstractSampled</span>
</code></pre></div>
<p>Abstract supertype for projected index lookups.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/lookup.jl#L1-L5" class="documenter-source">source</a><br></p>
<p><a id="Rasters.FileArray" href="#Rasters.FileArray">#</a>
<strong><code>Rasters.FileArray</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">FileArray</span><span class="p">{</span><span class="kt">X</span><span class="p">}</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">DiskArrays</span><span class="o">.</span><span class="n">AbstractDiskArray</span>
</code></pre></div>
<p>Filearray is a DiskArrays.jl <code>AbstractDiskArray</code>. Instead of holding an open object, it just holds a filename string that is opened lazily  when it needs to be read.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/filearray.jl#L2-L8" class="documenter-source">source</a><br></p>
<p><a id="Rasters.FileStack" href="#Rasters.FileStack">#</a>
<strong><code>Rasters.FileStack</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">FileStack</span><span class="p">{</span><span class="kt">X</span><span class="p">,</span><span class="kt">K</span><span class="p">}</span>

<span class="kt">FileStack</span><span class="p">{</span><span class="kt">X</span><span class="p">,</span><span class="kt">K</span><span class="p">}(</span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="n">types</span><span class="p">,</span><span class="w"> </span><span class="n">sizes</span><span class="p">,</span><span class="w"> </span><span class="n">eachchunk</span><span class="p">,</span><span class="w"> </span><span class="n">haschunks</span><span class="p">,</span><span class="w"> </span><span class="n">write</span><span class="p">)</span>
</code></pre></div>
<p>A wrapper object that holds file pointer and size/chunking metadata for a multi-layered stack stored in a single file,  typically netcdf or hdf5.</p>
<p><code>X</code> is a backend type like <code>NCDsource</code>, and <code>K</code> is a tuple of <code>Symbol</code> keys.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/filestack.jl#L1-L11" class="documenter-source">source</a><br></p>
<p><a id="Rasters.OpenStack" href="#Rasters.OpenStack">#</a>
<strong><code>Rasters.OpenStack</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">OpenStack</span><span class="p">{</span><span class="kt">X</span><span class="p">,</span><span class="kt">K</span><span class="p">}</span>

<span class="kt">OpenStack</span><span class="p">{</span><span class="kt">X</span><span class="p">,</span><span class="kt">K</span><span class="p">}(</span><span class="n">dataset</span><span class="p">)</span>
</code></pre></div>
<p>A wrapper for any stack-like opened dataset that can be indexed with <code>Symbol</code> keys to retrieve <code>AbstractArray</code> layers.</p>
<p><code>OpenStack</code> is usually hidden from users, wrapped in a regular <code>RasterStack</code> passed as the function argument in <code>open(stack)</code> when the stack is contained in a single file.</p>
<p><code>X</code> is a backend type like <code>NCDsource</code>, and <code>K</code> is a tuple of <code>Symbol</code> keys.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/openstack.jl#L1-L14" class="documenter-source">source</a><br></p>
<p><a id="Rasters.RasterDiskArray" href="#Rasters.RasterDiskArray">#</a>
<strong><code>Rasters.RasterDiskArray</code></strong> — <em>Type</em>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">RasterDiskArray</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">DiskArrays</span><span class="o">.</span><span class="n">AbstractDiskArray</span>
</code></pre></div>
<p>A basic DiskArrays.jl wrapper for objects that don't have one defined yet.  When we <code>open</code> a <code>FileArray</code> it is replaced with a <code>RasterDiskArray</code>.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/filearray.jl#L55-L60" class="documenter-source">source</a><br></p>
<p><a id="Base.open-Tuple{Function, AbstractRaster}" href="#Base.open-Tuple%7BFunction,%20AbstractRaster%7D">#</a>
<strong><code>Base.open</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">open</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">;</span><span class="w"> </span><span class="n">write</span><span class="o">=</span><span class="nb">false</span><span class="p">)</span>
</code></pre></div>
<p><code>open</code> is used to open any <code>lazy=true</code> <code>AbstractRaster</code> and do multiple operations on it in a safe way. The <code>write</code> keyword opens the file in write lookup so that it can be altered on disk using e.g. a broadcast.</p>
<p><code>f</code> is a method that accepts a single argument - an <code>Raster</code> object which is just an <code>AbstractRaster</code> that holds an open disk-based object. Often it will be a <code>do</code> block:</p>
<p><code>lazy=false</code> (in-memory) rasters will ignore <code>open</code> and pass themselves to <code>f</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c"># A is an `Raster` wrapping the opened disk-based object.</span>
<span class="n">open</span><span class="p">(</span><span class="n">Raster</span><span class="p">(</span><span class="n">filepath</span><span class="p">);</span><span class="w"> </span><span class="n">write</span><span class="o">=</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="n">A</span>
<span class="w">    </span><span class="n">mask!</span><span class="p">(</span><span class="n">A</span><span class="p">;</span><span class="w"> </span><span class="n">with</span><span class="o">=</span><span class="n">maskfile</span><span class="p">)</span>
<span class="w">    </span><span class="n">A</span><span class="p">[</span><span class="n">I</span><span class="o">...</span><span class="p">]</span><span class="w"> </span><span class="o">.*=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="c"># ...  other things you need to do with the open file</span>
<span class="k">end</span>
</code></pre></div>
<p>By using a do block to open files we ensure they are always closed again after we finish working with them.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/array.jl#L159-L183" class="documenter-source">source</a><br></p>
<p><a id="Base.read!-Tuple{AbstractRaster, AbstractArray}" href="#Base.read!-Tuple%7BAbstractRaster,%20AbstractArray%7D">#</a>
<strong><code>Base.read!</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">read!</span><span class="p">(</span><span class="n">src</span><span class="o">::</span><span class="kt">Union</span><span class="p">{</span><span class="kt">AbstractString</span><span class="p">,</span><span class="kt">AbstractRaster</span><span class="p">},</span><span class="w"> </span><span class="n">dst</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">)</span>
<span class="n">read!</span><span class="p">(</span><span class="n">src</span><span class="o">::</span><span class="kt">Union</span><span class="p">{</span><span class="kt">AbstractString</span><span class="p">,</span><span class="kt">AbstractRasterStack</span><span class="p">},</span><span class="w"> </span><span class="n">dst</span><span class="o">::</span><span class="kt">AbstractRasterStack</span><span class="p">)</span>
<span class="n">read!</span><span class="p">(</span><span class="n">scr</span><span class="o">::</span><span class="kt">AbstractRasterSeries</span><span class="p">,</span><span class="w"> </span><span class="n">dst</span><span class="o">::</span><span class="kt">AbstractRasterSeries</span><span class="p">)</span>
</code></pre></div>
<p><code>read!</code> will copy the data from <code>src</code> to the object <code>dst</code>. </p>
<p><code>src</code> can be an object or a file-path <code>String</code>.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/read.jl#L12-L20" class="documenter-source">source</a><br></p>
<p><a id="Base.read-Tuple{Union{AbstractRaster, AbstractRasterSeries, AbstractRasterStack}}" href="#Base.read-Tuple%7BUnion%7BAbstractRaster,%20AbstractRasterSeries,%20AbstractRasterStack%7D%7D">#</a>
<strong><code>Base.read</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">read</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">)</span>
<span class="n">read</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractRasterStack</span><span class="p">)</span>
<span class="n">read</span><span class="p">(</span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractRasterSeries</span><span class="p">)</span>
</code></pre></div>
<p><code>read</code> will move a Rasters.jl object completely to memory.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/read.jl#L1-L7" class="documenter-source">source</a><br></p>
<p><a id="Base.skipmissing-Tuple{Raster}" href="#Base.skipmissing-Tuple%7BRaster%7D">#</a>
<strong><code>Base.skipmissing</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">skipmissing</span><span class="p">(</span><span class="n">itr</span><span class="o">::</span><span class="kt">Raster</span><span class="p">)</span>
</code></pre></div>
<p>Returns an iterable over the elements in a <code>Raster</code> object, skipping any values equal to either the <code>missingval</code> or <code>missing</code>.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/skipmissing.jl#L1-L5" class="documenter-source">source</a><br></p>
<p><a id="Base.write-Tuple{AbstractString, AbstractRasterSeries}" href="#Base.write-Tuple%7BAbstractString,%20AbstractRasterSeries%7D">#</a>
<strong><code>Base.write</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">Base</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">filepath</span><span class="o">::</span><span class="kt">AbstractString</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="o">::</span><span class="kt">AbstractRasterSeries</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Write any <a href="./#Rasters.AbstractRasterSeries"><code>AbstractRasterSeries</code></a> to file, guessing the backend from the file extension.</p>
<p>The lookup values of the series will be appended to the filepath (before the extension), separated by underscores.</p>
<p><strong>Keywords</strong></p>
<p>See other docs for <code>write</code>. All keywords are passed through to <code>Raster</code> and <code>RasterStack</code> methods.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/write.jl#L64-L75" class="documenter-source">source</a><br></p>
<p><a id="Base.write-Tuple{AbstractString, AbstractRasterStack}" href="#Base.write-Tuple%7BAbstractString,%20AbstractRasterStack%7D">#</a>
<strong><code>Base.write</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">Base</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="o">::</span><span class="kt">AbstractString</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="o">::</span><span class="kt">AbstractRasterStack</span><span class="p">;</span><span class="w"> </span><span class="n">suffix</span><span class="p">,</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Write any <a href="./#Rasters.AbstractRasterStack"><code>AbstractRasterStack</code></a> to file, guessing the backend from the file extension.</p>
<p><strong>Keywords</strong></p>
<ul>
<li><code>suffix</code>: suffix to append to file names. By default the layer key is used.</li>
</ul>
<p>Other keyword arguments are passed to the <code>write</code> method for the backend.</p>
<p>If the source can't be saved as a stack-like object, individual array layers will be saved.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/write.jl#L21-L33" class="documenter-source">source</a><br></p>
<p><a id="Base.write-Tuple{AbstractString, AbstractRaster}" href="#Base.write-Tuple%7BAbstractString,%20AbstractRaster%7D">#</a>
<strong><code>Base.write</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">Base</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="o">::</span><span class="kt">AbstractString</span><span class="p">,</span><span class="w"> </span><span class="n">A</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">;</span><span class="w"> </span><span class="n">kw</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Write an <a href="./#Rasters.AbstractRaster"><code>AbstractRaster</code></a> to file, guessing the backend from the file extension.</p>
<p>Keyword arguments are passed to the <code>write</code> method for the backend.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/write.jl#L1-L7" class="documenter-source">source</a><br></p>
<p><a id="Base.write-Tuple{String, Type{Rasters.GRDsource}, AbstractRaster}" href="#Base.write-Tuple%7BString,%20Type%7BRasters.GRDsource%7D,%20AbstractRaster%7D">#</a>
<strong><code>Base.write</code></strong> — <em>Method</em>.</p>
<div class="highlight"><pre><span></span><code><span class="n">Base</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="o">::</span><span class="kt">AbstractString</span><span class="p">,</span><span class="w"> </span><span class="o">::</span><span class="kt">Type</span><span class="p">{</span><span class="kt">GRDsource</span><span class="p">},</span><span class="w"> </span><span class="n">s</span><span class="o">::</span><span class="kt">AbstractRaster</span><span class="p">;</span><span class="w"> </span><span class="n">force</span><span class="o">=</span><span class="nb">false</span><span class="p">)</span>
</code></pre></div>
<p>Write a <code>Raster</code> to a .grd file with a .gri header file.  The extension of <code>filename</code> will be ignored.</p>
<p>Returns <code>filename</code>.</p>
<p><a target="_blank" href="https://github.com/rafaqz/Rasters.jl/blob/a66795aeb96ee57256e34050eee6528c7dc29ba9/src/sources/grd.jl#L143-L150" class="documenter-source">source</a><br></p></div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../scripts/generated/basics/plot_makie/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Examples with Makie">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Examples with Makie
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate", "navigation.expand", "navigation.top", "navigation.footer", "search.highlight", "search.share", "search.suggest", "toc.follow", "header.autohide"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6c14ae12.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>